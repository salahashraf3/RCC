(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t,n){},158:function(e,t,n){e.exports=n(257)},163:function(e,t,n){},164:function(e,t,n){},180:function(e,t){},182:function(e,t){},211:function(e,t){},218:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},237:function(e,t,n){e.exports=n.p+"static/media/cover.4ecb241d.png"},238:function(e,t,n){e.exports=n.p+"static/media/computer.9325c9f8.png"},256:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(41),o=n.n(c),i=(n(163),n(164),n(13)),l=n(21),s=n(14),u=n(17),m=n(42),d=n(11),f=n(95),p=n.n(f),b=n(22),v=n(134),g=n.n(v)()("https://remotecoderscollaboration.online/");function h(){var e=Object(l.a)([""]);return h=function(){return e},e}var E=b.a.video(h()),x=function(e){var t=Object(a.useRef)(),n=e.peer;return Object(a.useEffect)((function(){n.on("stream",(function(e){t.current.srcObject=e})),n.on("track",(function(e,t){}))}),[n]),r.a.createElement(E,{playsInline:!0,autoPlay:!0,ref:t})},j=n(23),w=n(33),O=Object(w.b)({name:"codeSwitch",initialState:{visible:!1},reducers:{showCode:function(e){e.visible=!e.visible}}}),k=O.actions.showCode,N=Object(w.b)({name:"usersListSwitch",initialState:{visible:!1},reducers:{showUsers:function(e){e.visible=!e.visible}}}),y=N.actions.showUsers;function S(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: -65.95px;\n  left: 80px;\n  background-color: #4ea1d3;\n  color: white;\n  padding-top: 5px;\n  padding-right: 10px;\n  padding-bottom: 5px;\n  padding-left: 10px;\n  text-align: left;\n\n  > div {\n    font-size: 0.85rem;\n    padding: 1px;\n    margin-bottom: 5px;\n\n    :not(:last-child):hover {\n      background: rgba(222, 221, 221, 0.12);\n      border-radius: 16px;\n      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n      backdrop-filter: blur(7.9px);\n      -webkit-backdrop-filter: blur(7.9px);\n      cursor: pointer;\n    }\n  }\n\n  > div:last-child {\n    border-top: 1px solid white;\n    cursor: context-menu !important;\n  }\n"]);return S=function(){return e},e}function I(){var e=Object(l.a)(["\n  display: flex;\n  position: absolute;\n  width: 20px;\n  top: 7px;\n  left: 80px;\n  z-index: 1;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n    border-radius: 15px;\n  }\n\n  * {\n    pointer-events: none;\n  }\n\n  > i {\n    width: 90%;\n    font-size: calc(10px + 1vmin);\n  }\n"]);return I=function(){return e},e}function C(){var e=Object(l.a)(["\n  position: relative;\n  width: 75px;\n  border: none;\n  font-size: 0.9375rem;\n  padding: 5px;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n    border-radius: 15px;\n  }\n\n  * {\n    pointer-events: none;\n  }\n\n  .fa-microphone-slash {\n    color: #ee2560;\n  }\n\n  .fa-video-slash {\n    color: #ee2560;\n  }\n"]);return C=function(){return e},e}function D(){var e=Object(l.a)(["\n  width: 75px;\n  height: 30px;\n  border: none;\n  font-size: 0.9375rem;\n  line-height: 30px;\n  margin-right: 15px;\n  background-color: #ee2560;\n  border-radius: 15px;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n  }\n"]);return D=function(){return e},e}function F(){var e=Object(l.a)(["\n  width: 30px;\n  font-size: calc(16px + 1vmin);\n"]);return F=function(){return e},e}function T(){var e=Object(l.a)(["\n  width: auto;\n  border: none;\n  font-size: 0.9375rem;\n  padding: 5px;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n    border-radius: 15px;\n  }\n\n  .sharing {\n    color: #ee2560;\n  }\n"]);return T=function(){return e},e}function R(){var e=Object(l.a)(["\n  width: 75px;\n  border: none;\n  font-size: 0.9375rem;\n  padding: 5px;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n    border-radius: 15px;\n  }\n\n  * {\n    pointer-events: none;\n  }\n"]);return R=function(){return e},e}function U(){var e=Object(l.a)([""]);return U=function(){return e},e}function z(){var e=Object(l.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: center;\n"]);return z=function(){return e},e}function P(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n\n  margin-left: 15px;\n"]);return P=function(){return e},e}function B(){var e=Object(l.a)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 8%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 500;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 16px;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n"]);return B=function(){return e},e}var L=b.a.div(B()),q=b.a.div(P()),A=b.a.div(z()),V=b.a.div(U()),_=b.a.div(R()),H=b.a.div(T()),M=b.a.i(F()),J=b.a.div(D()),G=b.a.div(C()),W=b.a.div(I()),K=b.a.div(S()),$=function(e){var t=e.clickChat,n=e.clickCameraDevice,c=e.goToBack,o=e.toggleCameraAudio,i=e.userVideoAudio,l=e.clickScreenSharing,s=e.screenShare,u=e.videoDevices,m=e.showVideoDevices,d=e.setShowVideoDevices,f=Object(a.useCallback)((function(e){d((function(e){return!e}))}),[d]),p=Object(j.b)();return r.a.createElement(L,null,r.a.createElement(q,null,r.a.createElement(G,{onClick:o,"data-switch":"video",className:"d-flex flex-column align-items-center me-3"},r.a.createElement("div",null,i.video?r.a.createElement(M,{className:"fas fa-video "}):r.a.createElement(M,{className:"fas fa-video-slash"})),"Camera"),m&&r.a.createElement(K,null,u.length>0&&u.map((function(e){return r.a.createElement("div",{key:e.deviceId,onClick:n,"data-value":e.deviceId},e.label)})),r.a.createElement("div",null,"Switch Camera")),r.a.createElement(W,{onClick:f},r.a.createElement("i",{className:"fas fa-angle-up"})),r.a.createElement(G,{onClick:o,"data-switch":"audio",className:"d-flex flex-column align-items-center me-3"},r.a.createElement("div",null,i.audio?r.a.createElement(M,{className:"fas fa-microphone"}):r.a.createElement(M,{className:"fas fa-microphone-slash"})),"Audio")),r.a.createElement(A,null,r.a.createElement(_,{onClick:t,className:"d-flex flex-column align-items-center me-3"},r.a.createElement("div",null,r.a.createElement(M,{className:"fas fa-comments"})),"Chat"),r.a.createElement(H,{onClick:l,className:"d-flex flex-column align-items-center me-3"},r.a.createElement("div",null,r.a.createElement(M,{className:"fas fa-desktop ".concat(s?"sharing":"")})),"Share Screen"),r.a.createElement(H,{onClick:function(){return p(k())},className:"d-flex flex-column align-items-center me-3"},r.a.createElement("div",null,r.a.createElement(M,{className:"fa fa-code"})),"Code"),r.a.createElement(H,{onClick:function(){return p(y())},className:"d-flex flex-column align-items-center me-3"},r.a.createElement("div",null,r.a.createElement(M,{className:"fa fa-users"})),"Users")),r.a.createElement(V,null,r.a.createElement(J,{onClick:c,className:"d-flex flex-column align-items-center me-3"},"Stop")))};function Q(){var e=Object(l.a)(["\n  bottom: 0;\n  width: 100%;\n  height: 8%;\n  padding: 15px;\n  border-top: 1px solid rgb(69, 69, 82, 0.25);\n  box-sizing: border-box;\n  opacity: 0.7;\n\n  :focus {\n    outline: none;\n  }\n"]);return Q=function(){return e},e}function X(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  width: 100%;\n  font-size: 16px;\n  margin-top: 15px;\n  text-align: right;\n\n  > strong {\n    margin-right: 35px;\n  }\n\n  > p {\n    max-width: 65%;\n    width: auto;\n    padding: 9px;\n    margin-top: 3px;\n    margin-right: 30px;\n    border: 1px solid rgb(78, 161, 211, 0.3);\n    border-radius: 15px;\n    background-color: #4ea1d3;\n    color: white;\n    font-size: 14px;\n    text-align: left;\n  }\n"]);return X=function(){return e},e}function Y(){var e=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 16px;\n  margin-top: 15px;\n  margin-left: 15px;\n  text-align: left;\n\n  > strong {\n    margin-left: 3px;\n  }\n\n  > p {\n    max-width: 65%;\n    width: auto;\n    padding: 9px;\n    margin-top: 3px;\n    border: 1px solid rgb(78, 161, 211, 0.3);\n    border-radius: 15px;\n    box-shadow: 0px 0px 3px #4ea1d3;\n    font-size: 14px;\n  }\n"]);return Y=function(){return e},e}function Z(){var e=Object(l.a)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  padding: 15px;\n  color: #454552;\n"]);return Z=function(){return e},e}function ee(){var e=Object(l.a)(["\n  width: 100%;\n  height: 83%;\n  max-height: 83%;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);return ee=function(){return e},e}function te(){var e=Object(l.a)(["\n  width: 100%;\n  margin-top: 15px;\n  margin-left: 15px\n  font-weight: 600;\n  font-size: 20px;\n  color: black;\n"]);return te=function(){return e},e}function ne(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 25%;\n  hieght: 100%;\n  transition: all 0.5s ease;\n  overflow: hidden;\n  background: rgba(255, 255, 255, 0.24);\n  border-radius: 16px;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(7.1px);\n  -webkit-backdrop-filter: blur(7.1px);\n"]);return ne=function(){return e},e}var ae=b.a.div(ne()),re=b.a.div(te()),ce=b.a.div(ee()),oe=b.a.div(Z()),ie=b.a.div(Y()),le=b.a.div(X()),se=b.a.input(Q()),ue=function(e){var t=e.display,n=e.roomId,c=sessionStorage.getItem("user"),o=sessionStorage.getItem("userId"),i=Object(a.useState)([]),l=Object(d.a)(i,2),u=l[0],m=l[1],f=Object(a.useRef)(null),p=Object(a.useRef)();Object(a.useEffect)((function(){g.on("FE-receive-message",(function(e){var t=e.msg,n=e.sender;m((function(e){return[].concat(Object(s.a)(e),[{sender:n,msg:t}])}))}))}),[]),Object(a.useEffect)((function(){b()}),[u]);var b=function(){f.current.scrollIntoView({behavior:"smooth"})};return r.a.createElement(ae,{className:t?"":"width0"},r.a.createElement(re,null,"Group Chat Room"),r.a.createElement(ce,null,r.a.createElement(oe,null,u&&u.map((function(e,t){var n=e.sender,a=e.msg;return n!==c?r.a.createElement(ie,{key:t},r.a.createElement("strong",null,n),r.a.createElement("p",null,a)):r.a.createElement(le,{key:t},r.a.createElement("strong",null,n),r.a.createElement("p",null,a))})),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:f}))),r.a.createElement(se,{ref:p,onKeyUp:function(e){if("Enter"===e.key){var t=e.target.value;t&&(g.emit("BE-send-message",{roomId:n,msg:t,sender:c,currentUserId:o}),p.current.value="")}},placeholder:"Enter your message"}))},me=(n(218),n(24)),de=n(74),fe=n.n(de);function pe(){var e=Object(l.a)(["\n  display: none;\n  position: absolute;\n  right: 15px;\n  top: 15px;\n"]);return pe=function(){return e},e}function be(){var e=Object(l.a)(["\n  position: absolute;\n  font-size: calc(20px + 5vmin);\n  z-index: 1;\n"]);return be=function(){return e},e}function ve(){var e=Object(l.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  > video {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  :hover {\n    > i {\n      display: block;\n    }\n  }\n"]);return ve=function(){return e},e}function ge(){var e=Object(l.a)([""]);return ge=function(){return e},e}function he(){var e=Object(l.a)(["\n  position: relative;\n  width: 100%;\n  height: 100vh;\n"]);return he=function(){return e},e}function Ee(){var e=Object(l.a)(["\n  max-width: 100%;\n  height: 92%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 15px;\n  box-sizing: border-box;\n  gap: 10px;\n"]);return Ee=function(){return e},e}function xe(){var e=Object(l.a)(["\n  display: flex;\n  width: 100%;\n  max-height: 100vh;\n  flex-direction: row;\n"]);return xe=function(){return e},e}var je=b.a.div(xe()),we=b.a.div(Ee()),Oe=b.a.div(he()),ke=b.a.video(ge()),Ne=b.a.div(ve()),ye=b.a.div(be()),Se=b.a.i(pe()),Ie=function(e){var t=Object(i.o)(),n=sessionStorage.getItem("user"),c=Object(a.useState)([]),o=Object(d.a)(c,2),l=o[0],f=o[1],b=Object(a.useState)({localUser:{video:!0,audio:!0}}),v=Object(d.a)(b,2),h=v[0],E=v[1],j=Object(a.useState)([]),w=Object(d.a)(j,2),O=w[0],k=w[1],N=Object(a.useState)(!1),y=Object(d.a)(N,2),S=y[0],I=y[1],C=Object(a.useState)(!1),D=Object(d.a)(C,2),F=D[0],T=D[1],R=Object(a.useState)(!1),U=Object(d.a)(R,2),z=U[0],P=U[1],B=Object(a.useRef)([]),L=Object(a.useRef)(),q=Object(a.useRef)(),A=Object(a.useRef)(),V=Object(i.q)().roomID;function _(e){return B.current.find((function(t){return t.peerID===e}))}function H(e,t,n){return r.a.createElement(Ne,{className:"width-peer".concat(l.length>8?"":l.length),onClick:J,key:t},function(e,t){if(h.hasOwnProperty(e)&&!h[e].video)return r.a.createElement(ye,{key:e},e)}(e.userName),r.a.createElement(Se,{className:"fas fa-expand"}),r.a.createElement(x,{key:t,peer:e,number:n.length}))}Object(a.useEffect)((function(){return console.log(l+"peers"),console.log(B+"peersRef"),navigator.mediaDevices.enumerateDevices().then((function(e){var t=e.filter((function(e){return"videoinput"===e.kind}));k(t)})),window.addEventListener("popstate",M),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){fe()({title:"Room ID",duration:3e4,subtitle:"Click here to copy : ".concat(V),onClick:function(e){me.toast.success("Copied To clipboard"),navigator.clipboard.writeText(V)},backgroundTop:"black",backgroundBottom:"grey"}),L.current.srcObject=e,A.current=e,g.emit("BE-join-room",{roomId:V,userName:n}),g.on("FE-user-join",(function(t){var a=[];t.forEach((function(t){var r=t.userId,c=t.info,o=c.userName,i=c.video,l=c.audio;if(o!==n){me.toast.success("".concat(o," Joined the room"));var s=function(e,t,n){var a=new p.a({initiator:!0,trickle:!1,stream:n});return a.on("signal",(function(n){g.emit("BE-call-user",{userToCall:e,from:t,signal:n})})),a.on("disconnect",(function(){a.destroy()})),a}(r,g.id,e);s.userName=o,s.peerID=r,B.current.push({peerID:r,peer:s,userName:o}),a.push(s),E((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},s.userName,{video:i,audio:l}))}))}})),f(a)})),g.on("FE-receive-call",(function(t){var n=t.signal,a=t.from,r=t.info,c=r.userName,o=r.video,i=r.audio;if(!_(a)){var l=function(e,t,n){var a=new p.a({initiator:!1,trickle:!1,stream:n});return a.on("signal",(function(e){g.emit("BE-accept-call",{signal:e,to:t})})),a.on("disconnect",(function(){a.destroy()})),a.signal(e),a}(n,a,e);l.userName=c,B.current.push({peerID:a,peer:l,userName:c}),f((function(e){return[].concat(Object(s.a)(e),[l])})),E((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},l.userName,{video:o,audio:i}))}))}})),g.on("FE-call-accepted",(function(e){var t=e.signal;_(e.answerId).peer.signal(t)})),g.on("FE-user-leave",(function(e){var t=e.userId,n=(e.userName,e.leaver);me.toast.error("".concat(n," left the room"));var a=_(t);console.log(a),a.peer.destroy(),f((function(e){return e=e.filter((function(e){return e.peerID!==a.peer.peerID})),Object(s.a)(e)})),B.current=B.current.filter((function(e){return e.peerID!==t}))}))})).catch((function(e){console.log(e),me.toast.error("Cannot start camera. "+e),t("/")})),g.on("FE-toggle-camera",(function(e){var t=e.userId,n=e.switchTarget,a=_(t);E((function(e){var t=e[a.userName].video,r=e[a.userName].audio;return"video"===n?t=!t:r=!r,Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a.userName,{video:t,audio:r}))}))})),function(){g.disconnect()}}),[]);var M=function(e){e.preventDefault(),g.emit("BE-leave-room",{roomId:V,leaver:n}),sessionStorage.removeItem("user"),window.location.href="/"},J=function(e){var t=e.target;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()};return r.a.createElement("div",{className:"room-container"},r.a.createElement(je,{onClick:function(){z&&P(!1)}},r.a.createElement(Oe,null,r.a.createElement(we,null,r.a.createElement(Ne,{className:"width-peer".concat(l.length>8?"":l.length)},h.localUser.video?null:r.a.createElement(ye,null,n),r.a.createElement(Se,{className:"fas fa-expand"}),r.a.createElement(ke,{onClick:J,ref:L,muted:!0,autoPlay:!0,playInline:!0})),l&&l.map((function(e,t,n){return H(e,t,n)}))),r.a.createElement($,{clickScreenSharing:function(){F?q.current.onended():navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((function(e){var t=e.getTracks()[0];B.current.forEach((function(e){var n=e.peer;n.replaceTrack(n.streams[0].getTracks().find((function(e){return"video"===e.kind})),t,A.current)})),t.onended=function(){B.current.forEach((function(e){var n=e.peer;n.replaceTrack(t,n.streams[0].getTracks().find((function(e){return"video"===e.kind})),A.current)})),L.current.srcObject=A.current,T(!1)},L.current.srcObject=e,q.current=t,T(!0)}))},clickChat:function(e){e.stopPropagation(),I(!S)},clickCameraDevice:function(e){if(e&&e.target&&e.target.dataset&&e.target.dataset.value){var t=e.target.dataset.value,n=L.current.srcObject.getAudioTracks()[0].enabled;navigator.mediaDevices.getUserMedia({video:{deviceId:t},audio:n}).then((function(e){var t=e.getTracks().find((function(e){return"video"===e.kind})),n=A.current.getTracks().find((function(e){return"video"===e.kind}));A.current.removeTrack(n),A.current.addTrack(t),B.current.forEach((function(e){e.peer.replaceTrack(n,t,A.current)}))}))}},goToBack:M,toggleCameraAudio:function(e){var t=e.target.getAttribute("data-switch");E((function(e){var n=e.localUser.video,a=e.localUser.audio;if("video"===t){n=!n,L.current.srcObject.getVideoTracks()[0].enabled=n}else{var r=L.current.srcObject.getAudioTracks()[0];a=!a,r?r.enabled=a:A.current.getAudioTracks()[0].enabled=a}return Object(m.a)(Object(m.a)({},e),{},{localUser:{video:n,audio:a}})})),g.emit("BE-toggle-camera-audio",{roomId:V,switchTarget:t})},userVideoAudio:h.localUser,screenShare:F,videoDevices:O,showVideoDevices:z,setShowVideoDevices:P})),r.a.createElement(ue,{display:S,roomId:V})))};var Ce=function(e){return localStorage.getItem("token")?e.children:r.a.createElement(i.a,{to:"/login"})};var De=function(e){return localStorage.getItem("token")?r.a.createElement(i.a,{to:"/"}):e.children},Fe=(n(228),Object(w.b)({name:"profileSwitch",initialState:{visible:!1},reducers:{showProfile:function(e){e.visible=!e.visible}}})),Te=Fe.actions,Re=Te.showProfile,Ue=(Te.hideProfile,n(27)),ze=n(37),Pe=n(15),Be=n.n(Pe),Le=n(20),qe=Object(w.b)({name:"alerts",initialState:{loading:!1},reducers:{showLoading:function(e){e.loading=!0},hideLoading:function(e){e.loading=!1}}}),Ae=qe.actions,Ve=Ae.showLoading,_e=Ae.hideLoading,He=n(279),Me=He.a.create({baseURL:"https://remotecoderscollaboration.online/"}),Je=function(e){var t=Object.assign({},e);Me.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token"));return Me(t).then((function(e){return e})).catch((function(e){return e}))};var Ge=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(j.b)(),o=Object(i.o)(),l=function(){var e=Object(Le.a)(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Ve()),Je({url:"/api/user/getUserDataById",method:"post"}).then((function(e){e.data.success?r(e.data.data):!1===e.data.success&&(localStorage.clear(),o("/login"))})).catch((function(e){return console.log(e)})),c(_e());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[]),n};var We=function(){var e=Ge(),t=Object(j.b)(),n=Object(i.o)(),a=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){n(e)}}))},c=function(){var e=Object(Le.a)(Be.a.mark((function e(a){var r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ve()),e.next=3,He.a.post("/api/user/uploadImage",{image:a},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 3:r=e.sent,t(_e()),r.data.success?(n("/"),me.toast.success("profile updated successfully")):console.log("errororr");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(Le.a)(Be.a.mark((function e(t){var n,r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==(n=t.target.files).length){e.next=7;break}return e.next=4,a(n[0]);case 4:return r=e.sent,c(r),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var a=Object(Le.a)(Be.a.mark((function a(r){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.preventDefault(),t(Ve()),Je({url:"/api/user/editUserById",method:"post",data:{name:r.target.name.value?r.target.name.value:e.name,email:r.target.email.value?r.target.email.value:e.email}}).then((function(e){e.data.success?Object(me.toast)("Updated Succefully!",{icon:"\ud83d\udc4d"}):!1===e.data.success&&(localStorage.clear(),n("/login"))})).catch((function(e){return console.log(e)})),t(_e());case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:l},r.a.createElement("label",{htmlFor:"Email",className:"my-3"},"Name"),r.a.createElement("div",{className:"form-outline inputdiv"},r.a.createElement("input",{name:"name",type:"text",id:"form12",className:"form-control",placeholder:e.name})),r.a.createElement("label",{htmlFor:"Email",className:"my-3"},"Email"),r.a.createElement("div",{className:"form-outline inputdiv"},r.a.createElement("input",{name:"email",type:"text",id:"form12",className:"form-control",placeholder:e.email})),r.a.createElement("label",{htmlFor:"Email",className:"my-3"},"Profile edit"),r.a.createElement("div",{className:"form-outline inputdiv"},r.a.createElement("input",{type:"file",onChange:o})),r.a.createElement("button",{className:"btn btn-primary mt-4",type:"submit"},"Edit"))};n(229);var Ke=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(),l=Object(d.a)(o,2),s=l[0],u=l[1],m=Object(j.b)(),f=Object(i.o)(),p=function(){var e=Object(Le.a)(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(Ve()),Je({url:"/api/user/getChatHistory",method:"post"}).then((function(e){e.data.success?(console.log(e.data.userId),u(e.data.userId),c(e.data.data)):!1===e.data.success&&(localStorage.clear(),f("/login"))})).catch((function(e){return console.log(e)})),m(_e());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"container-chat"},n.map((function(e){return r.a.createElement(r.a.Fragment,null,e.history.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"chat-container"},r.a.createElement("ul",{class:"chat"},s==e.userName?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,e.userName," ",r.a.createElement("small",{className:"time"},e.time.slice(11,16))),r.a.createElement("li",{className:"message left"},r.a.createElement("p",null,e.chat))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"float-right"},e.userName,r.a.createElement("small",{className:"time"},e.time.slice(11,16))),r.a.createElement("li",{className:"message right"},r.a.createElement("p",null,e.chat))))))})))}))))},$e=(n(230),n(141)),Qe=n(151),Xe=n(142),Ye=(n(231),n(140));var Ze=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),l=Object(d.a)(o,2),s=l[0],u=l[1],m=Object(a.useState)(),f=Object(d.a)(m,2),p=f[0],b=f[1],v=Object(i.o)(),g=function(){var e=Object(Le.a)(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Je({url:"/api/user/getUserDataById",method:"post"}).then((function(e){e.data.success?b(e.data.data.schedules):!1===e.data.success&&(localStorage.clear(),v("/login"))})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){g()}),[]),r.a.createElement("div",{className:"schedule-container"},r.a.createElement(Ye.a,{open:s,onClose:function(){return u(!1)},center:!0},r.a.createElement("div",{className:"modal-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Je({url:"/api/user/addEvent",method:"post",data:{title:e.target.event.value,date:n,color:e.target.color.value}}).then((function(){g(),u(!1)})).catch((function(e){me.toast.error("Something went wrong")}))}},r.a.createElement("h5",null,"Event"),r.a.createElement("input",{type:"text",className:"form-control",required:!0,name:"event"}),r.a.createElement("h5",{className:"mt-4"},"Color"),r.a.createElement("input",{type:"color",className:"form-control",name:"color"}),r.a.createElement("div",{className:" d-flex justify-content-end mt-4"},r.a.createElement("button",{className:" btn btn-primary text-right",type:"submit"},"Save"))))),r.a.createElement($e.a,{plugins:[Qe.a,Xe.a],initialView:"dayGridMonth",weekends:!1,events:p,dateClick:function(e){u(!0),c(e.dateStr)},eventClick:function(e){var t=e.event._def.extendedProps._id;Je({url:"/api/user/deleteEvent",method:"post",data:{eventId:t}}).then((function(e){g()}))}}))};var et=function(){var e=Ge(),t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],o=n[1],l=Object(j.b)(),s=Object(i.o)(),u=Object(j.c)((function(e){return e.themeSwitch.dark}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:u?"profile-main-container-dark":"profile-main-container"},r.a.createElement("div",{className:u?"profile-left-dark":"profile-left"},r.a.createElement("div",{className:"profile-btn"},r.a.createElement(Ue.b,{onClick:function(){return l(Re())},className:"close-logo"},r.a.createElement(ze.d,null))),r.a.createElement("div",{className:"profile-pic my-3"},r.a.createElement("img",{className:"img-profile ",src:e.profile,alt:"test",srcset:""}),r.a.createElement("p",null,e.name)),r.a.createElement("div",{className:"items-list"},r.a.createElement("div",{className:"test"},r.a.createElement("div",{className:"list",onClick:function(){return o("profile")}},r.a.createElement(Ue.b,{className:"link"},"Profile Edit")),r.a.createElement("div",{className:"list",onClick:function(){return o("chatHistory")}},r.a.createElement(Ue.b,{className:"link"},"Chat History")),r.a.createElement("div",{className:"list",onClick:function(){return o("Schedule")}},r.a.createElement(Ue.b,{className:"link"},"Schedule"))),r.a.createElement("div",{className:"logout-btn"},r.a.createElement("p",{className:"btn btn-danger",onClick:function(){localStorage.removeItem("token"),l(Re()),s("/")}},"Logout")))),r.a.createElement("div",{className:"profile-right"},"profile"===c?r.a.createElement(We,null):"chatHistory"===c?r.a.createElement(Ke,null):"Schedule"===c?r.a.createElement(Ze,null):"")))},tt=n(46);var nt=function(){var e=Object(j.b)(),t=Object(i.o)(),n=function(){var n=Object(Le.a)(Be.a.mark((function n(a){var r,c,o;return Be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),r=a.target.name.value,c=a.target.email.value,o=a.target.password.value,""===r.trim()?me.toast.error("Name cannot be null"):""===c.trim()?me.toast.error("email cannot be null"):""===o.trim()?me.toast.error("password cannot be null"):(e(Ve()),Je({url:"/api/user/register",method:"post",data:{name:a.target.name.value,email:a.target.email.value,password:a.target.password.value}}).then((function(e){console.log(e.data),e.data.success?(me.toast.success(e.data.message),t("/login")):me.toast.error(e.data.message)})).catch((function(e){return console.log(e)})),e(_e()));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-Container"},r.a.createElement("div",{className:"test"}),r.a.createElement("div",{className:"Container"},r.a.createElement("div",{className:"heading mb-4 d-flex justify-content-between align-items-center"},r.a.createElement("h2",null,"Register"),r.a.createElement(Ue.b,{to:"/login",style:{textDecoration:"none",color:"black"}},r.a.createElement(tt.b,null))),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"input-group mb-3 mt-5"},r.a.createElement("input",{type:"text",id:"name",className:"form-control",placeholder:"Name","aria-label":"Name","aria-describedby":"basic-addon1",name:"name"})),r.a.createElement("div",{className:"input-group mb-3 mt-5"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email","aria-label":"Email","aria-describedby":"basic-addon1",name:"email"})),r.a.createElement("div",{className:"input-group mb-3 mt-5"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Passwrod","aria-label":"Password","aria-describedby":"basic-addon1",name:"password"})),r.a.createElement("div",{className:"button d-flex justify-content-end mt-4"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Register")))))))};n(232);var at=function(){var e=Object(j.b)(),t=Object(i.o)(),n=function(){var n=Object(Le.a)(Be.a.mark((function n(a){var r,c;return Be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),r=a.target.email.value,c=a.target.password.value,""===r.trim()?me.toast.error("email cannot be null"):""===c.trim()?me.toast.error("password cannot be null"):(e(Ve()),Je({url:"/api/user/login",method:"post",data:{email:a.target.email.value,password:a.target.password.value}}).then((function(e){e.data.success?(me.toast.success(e.data.message),localStorage.setItem("token",e.data.token),t("/")):me.toast.error(e.data.message)})).catch((function(e){return console.log(e)})),e(_e()));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-Container"},r.a.createElement("div",{className:"Container"},r.a.createElement("div",{className:"heading mb-4 d-flex justify-content-between align-items-center"},r.a.createElement("h2",null,"Login"),r.a.createElement(Ue.b,{to:"/register",style:{textDecoration:"none",color:"black"}},r.a.createElement(tt.b,null))),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{class:"input-group mb-3 mt-5"},r.a.createElement("input",{type:"text",class:"form-control",placeholder:"Email","aria-label":"Email","aria-describedby":"basic-addon1",name:"email"})),r.a.createElement("div",{class:"input-group mb-3 mt-5"},r.a.createElement("input",{type:"password",class:"form-control",placeholder:"Passwrod","aria-label":"Password","aria-describedby":"basic-addon1",name:"password"})),r.a.createElement("div",{className:"button d-flex justify-content-end mt-4"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Login")))))))},rt=(n(233),n(143)),ct=n.n(rt),ot=n(280),it=n(145),lt=n(281),st=n(144);ot.a.addDefaultLocale(it);var ut=function(){var e=Object(a.useState)([{message:"Test Notification",receivedTime:r.a.createElement(lt.a,{date:new Date,locale:"en-US"})}]),t=Object(d.a)(e,2),c=t[0],o=t[1],l=Ge(),u=Object(j.c)((function(e){return e.themeSwitch.dark})),m=Object(j.b)(),f=Object(i.o)(),p=Object(a.useState)(""),b=Object(d.a)(p,2),v=b[0],h=b[1],E=Object(a.useRef)();return Object(a.useEffect)((function(){g.emit("check-notifications",{userId:localStorage.getItem("token")}),g.on("send-notifications",(function(e){var t=e.data;console.log(t),o([].concat(Object(s.a)(c),[{message:t.title,receivedTime:r.a.createElement(lt.a,{date:new Date,locale:"en-US"})}]))})),g.on("FE-receive-message",(function(e){e.msg;var t=e.sender;o([].concat(Object(s.a)(c),[{message:"".concat(t," has send you a message"),receivedTime:r.a.createElement(lt.a,{date:new Date,locale:"en-US"})}]))}))}),[]),r.a.createElement("div",{className:u?"home-container-dark":"home-container"},r.a.createElement("div",{className:"nav-bar d-flex justify-content-between align-items-center me-5"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:n(237),alt:"test",width:"180px",className:"logo"})),r.a.createElement("div",{className:"profile"},r.a.createElement(Ue.b,null,r.a.createElement("div",{className:"notification-container"},r.a.createElement(st.a,{classNamePrefix:"okrjoy",width:"250px",data:c}))),r.a.createElement(Ue.b,{onClick:function(){return m(Re())}},u?r.a.createElement(tt.a,{className:"User-logo"}):r.a.createElement(tt.b,{className:"User-logo"})))),r.a.createElement("div",{className:"body-container d-flex justify-content-around align-items-center mt-5 "},r.a.createElement("div",{className:"left-side mt-5 "},r.a.createElement("input",{type:"email",ref:E,className:"form-control room-input ",onChange:function(e){return h(e.target.value)},id:"exampleInputEmail1","aria-describedby":"emailHelp",required:!0,name:"roomValue",placeholder:"Enter Room Id"}),r.a.createElement("div",{className:"button-group mt-3 btn-home "},r.a.createElement("button",{className:"btn btn-primary btn-outline-light me-4 home-btn ",onClick:function(e){e.preventDefault(),""===E.current.value?me.toast.error("Room name cannot be null"):(g.emit("Check-room-exist",{roomId:v}),g.on("room-exist",(function(e){if(e.roomExist){var t=l.name;g.emit("BE-check-user",{roomId:v,userName:t}),g.on("FE-error-user-exist",(function(e){e.error?me.toast.error("User already present in the room"):(sessionStorage.setItem("user",l.name),sessionStorage.setItem("userId",l._id),f("/room/".concat(v)))}))}else me.toast.error("Room does not exist")})))}},"Join Room"),r.a.createElement("button",{className:"btn btn-light btn-outline-primary ",onClick:function(e){e.preventDefault();var t=ct()();g.emit("Check-room-exist",{roomId:t}),g.on("room-exist",(function(e){e.roomExist?me.toast.error("Room already exist"):(sessionStorage.setItem("user",l.name),sessionStorage.setItem("userId",l._id),f("/room/".concat(t)))}))}},"Create Room"))),r.a.createElement("div",{className:"right-side  "},r.a.createElement("img",{className:"cpu",src:n(238),alt:"cpu logo",width:"380rem"}))))},mt=(n(131),n(78));n(258);var dt=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(d.a)(o,2),s=l[0],u=l[1],m=Object(a.useState)(""),f=Object(d.a)(m,2),p=f[0],b=f[1],v=Object(i.q)().roomID;g.on("save-html",(function(e){var t=e.value;c(t)})),g.on("save-css",(function(e){var t=e.value;u(t)})),g.on("save-js",(function(e){var t=e.value;b(t)}));var h="\n  <html>\n  <body>".concat(n,"</body>\n  <style>").concat(s,"</style>\n  <script>").concat(p,"<\/script>\n  </html>\n  ");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"test d-flex "},r.a.createElement("div",{className:"code_mirror_container d-flex flex-column justify-between my-2 mx-2 "},r.a.createElement(ze.b,null),r.a.createElement(mt.a,{value:n,language:"html",placeholder:"Please enter html code.",onChange:function(e){c(e.target.value),g.emit("enter-html",{value:e.target.value,roomId:v})},style:{fontSize:"16px",width:"400px",height:"300px"}}),r.a.createElement(ze.a,{className:"mt-1"}),r.a.createElement(mt.a,{value:s,language:"css",placeholder:"Please enter css code.",onChange:function(e){u(e.target.value),g.emit("enter-css",{value:e.target.value,roomId:v})},style:{fontSize:"16px",width:"400px",height:"300px"}}),r.a.createElement(ze.c,{className:"mt-1"}),r.a.createElement(mt.a,{value:p,language:"js",placeholder:"Please enter js code.",onChange:function(e){b(e.target.value),g.emit("enter-js",{value:e.target.value,roomId:v})},style:{fontSize:"16px",width:"400px",height:"300px"}})),r.a.createElement("div",{className:"frame-output"},r.a.createElement("iframe",{height:"80%",width:"100%",sandbox:"allow-scripts",srcDoc:h}))))};var ft=function(){var e=Object(j.b)();return r.a.createElement("div",{className:"code-main-container "},r.a.createElement(ze.d,{onClick:function(){return e(k())},className:"close-icon"}),r.a.createElement(dt,null))};n(256);var pt=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(j.b)(),l=Object(i.q)().roomID;return Object(a.useEffect)((function(){g.emit("get-users-list",{roomId:l})}),[]),g.on("users-list",(function(e){var t=e.users;c(t)})),r.a.createElement("div",{className:"user-list-main-container"},r.a.createElement(ze.d,{onClick:function(){return o(y())},className:"close-icon"}),r.a.createElement("div",{class:"container bootdey mt-5"},r.a.createElement("div",{class:"row"},n.map((function(e){return r.a.createElement("div",{class:"col"},r.a.createElement("div",{class:"user-widget-2"},r.a.createElement("ul",{class:"list-unstyled"},r.a.createElement("li",{class:"media d-flex "},r.a.createElement("img",{class:"rounded-circle d-flex align-self-center",src:"https://bootdey.com/img/Content/avatar/avatar7.png",alt:""}),r.a.createElement("div",{class:"media-body mt-3 ms-3"},r.a.createElement("h5",null,e))))))})))))};var bt=function(){var e=Object(j.c)((function(e){return e.alerts})).loading,t=Object(j.c)((function(e){return e.profileSwitch.visible})),n=Object(j.c)((function(e){return e.codeSwitch.visible})),a=Object(j.c)((function(e){return e.usersListSwitch.visible}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.Toaster,{position:"top-center",reverseOrder:!1}),r.a.createElement(de.Notifications,{className:"notification"}),e&&r.a.createElement("div",{className:"spinner-parent"},r.a.createElement("div",{className:"spinner-border",role:"status"})),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",element:r.a.createElement(Ce,null,t&&r.a.createElement(et,null),r.a.createElement(ut,null))}),r.a.createElement(i.b,{path:"/login",element:r.a.createElement(De,null,r.a.createElement(at,null))}),r.a.createElement(i.b,{path:"/register",element:r.a.createElement(De,null,r.a.createElement(nt,null))}),r.a.createElement(i.b,{path:"/room/:roomID",element:r.a.createElement(Ce,null,n&&r.a.createElement(ft,null),a&&r.a.createElement(pt,null),r.a.createElement(Ie,null))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vt=n(34),gt=Object(w.b)({name:"themeSwitch",initialState:{dark:!1},reducers:{switchTheme:function(e){e.dark=!e.dark}}}),ht=(gt.actions.switchTheme,Object(vt.b)({alerts:qe.reducer,profileSwitch:Fe.reducer,themeSwitch:gt.reducer,codeSwitch:O.reducer,usersListSwitch:N.reducer})),Et=Object(w.a)({reducer:ht});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j.a,{store:Et},r.a.createElement(Ue.a,null,r.a.createElement(bt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[158,1,2]]]);
//# sourceMappingURL=main.4abfadfe.chunk.js.map