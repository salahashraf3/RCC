{"version":3,"sources":["components/user/cover.png","components/user/computer.png","socket.js","components/user/Video/VideoCard.js","redux/codeSectionSwitch.js","redux/usersListSectionSlice.js","components/user/BottomBar/BottomBar.js","components/user/Chat/Chat.js","components/user/Room/Room.js","components/user/ProtectedRoute.js","components/user/PublicRoute.js","redux/userProfileSwitch.js","redux/alertsSlice.js","components/user/axios.js","components/user/Hooks/useUserData.jsx","components/user/Profile/ProfileEdit.jsx","components/user/ChatHistory/ChatHistory.jsx","components/user/Schedule/Schedule.jsx","components/user/Profile.jsx","components/user/Auth/firebaseAuth.js","components/user/Register.jsx","components/user/Login.jsx","components/user/Home.jsx","components/user/CodeMirror/CodeMirror.jsx","components/user/Code/Code.jsx","components/user/UserList/UsersList.js","App.js","serviceWorker.js","redux/themeSlice.js","redux/store.js","index.js"],"names":["module","exports","sockets","io","Video","styled","video","VideoCard","props","ref","useRef","peer","useEffect","on","stream","current","srcObject","track","playsInline","autoPlay","CodeSectionSwitch","createSlice","name","initialState","visible","reducers","showCode","state","actions","UsersListSectionSwitch","showUsers","Bar","div","Left","Center","Right","ChatButton","ScreenButton","FaIcon","i","StopButton","CameraButton","SwitchMenu","SwitchList","BottomBar","clickChat","clickCameraDevice","goToBack","toggleCameraAudio","userVideoAudio","clickScreenSharing","screenShare","videoDevices","showVideoDevices","setShowVideoDevices","handleToggle","useCallback","e","dispatch","useDispatch","onClick","data-switch","className","length","map","device","key","deviceId","data-value","label","audio","ChatContainer","TopHeader","ChatArea","MessageList","Message","UserMessage","BottomInput","input","Chat","display","roomId","currentUser","sessionStorage","getItem","currentUserId","useState","msg","setMsg","messagesEndRef","inputRef","socket","sender","msgs","scrollToBottom","scrollIntoView","behavior","idx","style","float","clear","onKeyUp","target","value","emit","placeholder","RoomContainer","VideoContainer","VideoAndBarContainer","MyVideo","VideoBox","UserName","Room","navigate","useNavigate","peers","setPeers","localUser","setUserVideoAudio","setVideoDevices","displayChat","setDisplayChat","setScreenShare","peersRef","userVideoRef","screenTrackRef","userStream","useParams","roomID","findPeer","id","find","p","peerID","createUserVideo","index","arr","expandScreen","userName","hasOwnProperty","writeUserName","number","console","log","navigator","mediaDevices","enumerateDevices","then","devices","filtered","filter","kind","window","addEventListener","getUserMedia","addNotification","title","duration","subtitle","toast","success","clipboard","writeText","backgroundTop","backgroundBottom","users","forEach","userId","info","caller","Peer","initiator","trickle","signal","userToCall","from","destroy","createPeer","push","preList","incomingSignal","callerId","to","addPeer","answerId","leaver","error","peerIdx","user","catch","switchTarget","disconnect","preventDefault","removeItem","location","href","elem","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","muted","playInline","onended","getDisplayMedia","cursor","screenTrack","getTracks","replaceTrack","streams","stopPropagation","event","dataset","enabledAudio","getAudioTracks","enabled","newStreamTrack","oldStreamTrack","removeTrack","addTrack","getAttribute","videoSwitch","audioSwitch","getVideoTracks","userAudioTrack","ProtectedRoute","prop","localStorage","children","PublicRoute","ProfileSwitchSlice","showProfile","hideProfile","alertsSlice","loading","showLoading","hideLoading","client","axios","create","baseURL","request","_ref","options","Object","assign","_objectDestructuringEmpty","defaults","headers","common","Authorization","concat","response","useUserData","userData","setUserdata","getData","a","url","method","data","err","ProfileEdit","convertBase64","file","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","uploadSingleImage","_asyncToGenerator","_regeneratorRuntime","mark","_callee","base64","wrap","_context","prev","next","post","image","sent","stop","_x","apply","arguments","uploadImage","_ref2","_callee2","files","_context2","abrupt","_x2","handleUserEdit","_ref3","_callee3","_context3","email","icon","_x3","React","createElement","onSubmit","htmlFor","type","onChange","ChatHistory","chatData","setChatData","setCurrentUserId","class","history","hist","time","slice","chat","Schedule","_useState","_useState2","_slicedToArray","clickedDate","setClickedDate","_useState3","_useState4","open","setOpen","_useState5","_useState6","setEvent","Date","toISOString","split","schedules","Modal","onClose","center","date","color","required","FullCalendar","plugins","dayGridPlugin","interactionPlugin","initialView","weekends","events","initialDate","dateClick","today","dateStr","eventClick","eventId","_def","extendedProps","_id","Profile","rightSideData","setRightSideData","currentTheme","useSelector","themeSwitch","dark","Fragment","Link","IoMdClose","src","profile","alt","srcset","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Register","password","setPassword","otp","setOtp","regusterBtn","setRegisterBtn","_useState7","_useState8","passwordCheck","setPasswordCheck","_useState9","_useState10","setNumber","_useState11","_useState12","otpPage","setOtpPage","handleSubmit","cPassword","confirmPassword","trim","includes","message","confirmationResult","confirm","JSON","stringify","height","recaptchaVerifier","auth","RecaptchaVerifier","size","callback","defaultCountry","phoneNumber","appVerifier","signInWithPhoneNumber","textDecoration","onFocus","onBlur","PasswordStrengthBar","Login","setItem","token","TimeAgo","addDefaultLocale","en","Home","notificationData","setnotificationData","setRoomId","roomValue","_ref4","_toConsumableArray","receivedTime","ReactTimeAgo","locale","_ref5","require","width","Notifications","classNamePrefix","FaRegUser","FaUser","aria-describedby","roomExist","CroomId","uniqid","CodeMirrors","Html","setHtml","css","setCss","js","setJs","srcCode","IoLogoHtml5","CodeEditor","language","fontSize","IoLogoCss3","IoLogoJavascript","sandbox","srcDoc","Code","CodeMirror","UsersList","setUsers","App","alerts","currentValue","profileSwitch","codeSection","codeSwitch","usersListSection","usersListSwitch","role","Toaster","position","reverseOrder","Routes","Route","path","element","Boolean","hostname","match","themeSwitchSlice","switchTheme","rootReducer","combineReducers","reducer","store","configureStore","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b0b17624.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cover.4ecb241d.png\";","module.exports = __webpack_public_path__ + \"static/media/computer.9325c9f8.png\";","import io from 'socket.io-client';\n// const sockets = io('http://localhost:5000', { autoConnect: true, forceNew: true });\nconst sockets = io('https://remotecoderscollaboration.online/');\nexport default sockets;\n","import React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nconst VideoCard = (props) => {\n  const ref = useRef();\n  const peer = props.peer;\n\n  useEffect(() => {\n    peer.on('stream', (stream) => {\n      ref.current.srcObject = stream;\n    });\n    peer.on('track', (track, stream) => {\n    });\n  }, [peer]);\n\n  return (\n    <Video\n      playsInline\n      autoPlay\n      ref={ref}\n    />\n  );\n};\n\nconst Video = styled.video``;\n\nexport default VideoCard;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n\r\nexport const CodeSectionSwitch = createSlice({\r\n    name:\"codeSwitch\",\r\n    initialState: {\r\n        visible: false\r\n    },\r\n    reducers: {\r\n        showCode: (state)=>{\r\n            state.visible = !state.visible\r\n        }\r\n    }\r\n})\r\n\r\nexport const {showCode} = CodeSectionSwitch.actions","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n\r\nexport const UsersListSectionSwitch = createSlice({\r\n    name: \"usersListSwitch\",\r\n     initialState: {\r\n        visible: false\r\n    },\r\n    reducers: {\r\n        showUsers: (state)=>{\r\n            state.visible = !state.visible\r\n        }\r\n    }\r\n})\r\n\r\nexport const { showUsers} = UsersListSectionSwitch.actions","import React, { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { showCode } from \"../../../redux/codeSectionSwitch\";\nimport { showUsers } from \"../../../redux/usersListSectionSlice\";\n\nconst BottomBar = ({\n  clickChat,\n  clickCameraDevice,\n  goToBack,\n  toggleCameraAudio,\n  userVideoAudio,\n  clickScreenSharing,\n  screenShare,\n  videoDevices,\n  showVideoDevices,\n  setShowVideoDevices,\n}) => {\n  const handleToggle = useCallback(\n    (e) => {\n      setShowVideoDevices((state) => !state);\n    },\n    [setShowVideoDevices]\n  );\n\n  const dispatch = useDispatch();\n\n  return (\n    <Bar>\n      <Left>\n        <CameraButton\n          onClick={toggleCameraAudio}\n          data-switch=\"video\"\n          className=\"d-flex flex-column align-items-center me-3\"\n        >\n          <div>\n            {userVideoAudio.video ? (\n              <FaIcon className=\"fas fa-video \"></FaIcon>\n            ) : (\n              <FaIcon className=\"fas fa-video-slash\"></FaIcon>\n            )}\n          </div>\n          Camera\n        </CameraButton>\n        {showVideoDevices && (\n          <SwitchList>\n            {videoDevices.length > 0 &&\n              videoDevices.map((device) => {\n                return (\n                  <div\n                    key={device.deviceId}\n                    onClick={clickCameraDevice}\n                    data-value={device.deviceId}\n                  >\n                    {device.label}\n                  </div>\n                );\n              })}\n            <div>Switch Camera</div>\n          </SwitchList>\n        )}\n        <SwitchMenu onClick={handleToggle}>\n          <i className=\"fas fa-angle-up\"></i>\n        </SwitchMenu>\n        <CameraButton\n          onClick={toggleCameraAudio}\n          data-switch=\"audio\"\n          className=\"d-flex flex-column align-items-center me-3\"\n        >\n          <div>\n            {userVideoAudio.audio ? (\n              <FaIcon className=\"fas fa-microphone\"></FaIcon>\n            ) : (\n              <FaIcon className=\"fas fa-microphone-slash\"></FaIcon>\n            )}\n          </div>\n          Audio\n        </CameraButton>\n      </Left>\n      <Center>\n        <ChatButton\n          onClick={clickChat}\n          className=\"d-flex flex-column align-items-center me-3\"\n        >\n          <div>\n            <FaIcon className=\"fas fa-comments\"></FaIcon>\n          </div>\n          Chat\n        </ChatButton>\n\n        <ScreenButton\n          onClick={clickScreenSharing}\n          className=\"d-flex flex-column align-items-center me-3\"\n        >\n          <div>\n            <FaIcon\n              className={`fas fa-desktop ${screenShare ? \"sharing\" : \"\"}`}\n            ></FaIcon>\n          </div>\n          Share Screen\n        </ScreenButton>\n        <ScreenButton\n          onClick={() => dispatch(showCode())}\n          className=\"d-flex flex-column align-items-center me-3\"\n        >\n          <div>\n            <FaIcon className={`fa fa-code`}></FaIcon>\n          </div>\n          Code\n        </ScreenButton>\n        <ScreenButton\n          onClick={() => dispatch(showUsers())}\n          className=\"d-flex flex-column align-items-center me-3\"\n        >\n          <div>\n            <FaIcon className={`fa fa-users`}></FaIcon>\n          </div>\n          Users\n        </ScreenButton>\n      </Center>\n      <Right>\n        <StopButton\n          onClick={goToBack}\n          className=\"d-flex flex-column align-items-center me-3\"\n        >\n          Stop\n        </StopButton>\n      </Right>\n    </Bar>\n  );\n};\n\nconst Bar = styled.div`\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 8%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 500;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 16px;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n`;\nconst Left = styled.div`\n  display: flex;\n  align-items: center;\n\n  margin-left: 15px;\n`;\n\nconst Center = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: center;\n`;\n\nconst Right = styled.div``;\n\nconst ChatButton = styled.div`\n  width: 75px;\n  border: none;\n  font-size: 0.9375rem;\n  padding: 5px;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n    border-radius: 15px;\n  }\n\n  * {\n    pointer-events: none;\n  }\n`;\n\nconst ScreenButton = styled.div`\n  width: auto;\n  border: none;\n  font-size: 0.9375rem;\n  padding: 5px;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n    border-radius: 15px;\n  }\n\n  .sharing {\n    color: #ee2560;\n  }\n`;\n\nconst FaIcon = styled.i`\n  width: 30px;\n  font-size: calc(16px + 1vmin);\n`;\n\nconst StopButton = styled.div`\n  width: 75px;\n  height: 30px;\n  border: none;\n  font-size: 0.9375rem;\n  line-height: 30px;\n  margin-right: 15px;\n  background-color: #ee2560;\n  border-radius: 15px;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n  }\n`;\n\nconst CameraButton = styled.div`\n  position: relative;\n  width: 75px;\n  border: none;\n  font-size: 0.9375rem;\n  padding: 5px;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n    border-radius: 15px;\n  }\n\n  * {\n    pointer-events: none;\n  }\n\n  .fa-microphone-slash {\n    color: #ee2560;\n  }\n\n  .fa-video-slash {\n    color: #ee2560;\n  }\n`;\n\nconst SwitchMenu = styled.div`\n  display: flex;\n  position: absolute;\n  width: 20px;\n  top: 7px;\n  left: 80px;\n  z-index: 1;\n\n  :hover {\n    background: rgba(222, 221, 221, 0.12);\n    border-radius: 16px;\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(7.9px);\n    -webkit-backdrop-filter: blur(7.9px);\n    cursor: pointer;\n    border-radius: 15px;\n  }\n\n  * {\n    pointer-events: none;\n  }\n\n  > i {\n    width: 90%;\n    font-size: calc(10px + 1vmin);\n  }\n`;\n\nconst SwitchList = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: -65.95px;\n  left: 80px;\n  background-color: #4ea1d3;\n  color: white;\n  padding-top: 5px;\n  padding-right: 10px;\n  padding-bottom: 5px;\n  padding-left: 10px;\n  text-align: left;\n\n  > div {\n    font-size: 0.85rem;\n    padding: 1px;\n    margin-bottom: 5px;\n\n    :not(:last-child):hover {\n      background: rgba(222, 221, 221, 0.12);\n      border-radius: 16px;\n      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n      backdrop-filter: blur(7.9px);\n      -webkit-backdrop-filter: blur(7.9px);\n      cursor: pointer;\n    }\n  }\n\n  > div:last-child {\n    border-top: 1px solid white;\n    cursor: context-menu !important;\n  }\n`;\n\nexport default BottomBar;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport socket from \"../../../socket\";\n\nconst Chat = ({ display, roomId }) => {\n  const currentUser = sessionStorage.getItem(\"user\");\n  const currentUserId = sessionStorage.getItem(\"userId\")\n  const [msg, setMsg] = useState([]);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef();\n\n  useEffect(() => {\n    socket.on(\"FE-receive-message\", ({ msg, sender }) => {\n      setMsg((msgs) => [...msgs, { sender, msg }]);\n    });\n  }, []);\n\n  // Scroll to Bottom of Message List\n  useEffect(() => {\n    scrollToBottom();\n  }, [msg]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const sendMessage = (e) => {\n    if (e.key === \"Enter\") {\n      const msg = e.target.value;\n\n      if (msg) {\n        socket.emit(\"BE-send-message\", { roomId, msg, sender: currentUser , currentUserId});\n        inputRef.current.value = \"\";\n      }\n    }\n  };\n\n  return (\n    <ChatContainer className={display ? \"\" : \"width0\"}>\n      <TopHeader>Group Chat Room</TopHeader>\n      <ChatArea>\n        <MessageList>\n          {msg &&\n            msg.map(({ sender, msg }, idx) => {\n              if (sender !== currentUser) {\n                return (\n                  <Message key={idx}>\n                    <strong>{sender}</strong>\n                    <p>{msg}</p>\n                  </Message>\n                );\n              } else {\n                return (\n                  <UserMessage key={idx}>\n                    <strong>{sender}</strong>\n                    <p>{msg}</p>\n                  </UserMessage>\n                );\n              }\n            })}\n          <div style={{ float: \"left\", clear: \"both\" }} ref={messagesEndRef} />\n        </MessageList>\n      </ChatArea>\n      <BottomInput\n        ref={inputRef}\n        onKeyUp={sendMessage}\n        placeholder=\"Enter your message\"\n      />\n    </ChatContainer>\n  );\n};\n\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 25%;\n  hieght: 100%;\n  transition: all 0.5s ease;\n  overflow: hidden;\n  background: rgba(255, 255, 255, 0.24);\n  border-radius: 16px;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(7.1px);\n  -webkit-backdrop-filter: blur(7.1px);\n`;\n\nconst TopHeader = styled.div`\n  width: 100%;\n  margin-top: 15px;\n  margin-left: 15px\n  font-weight: 600;\n  font-size: 20px;\n  color: black;\n`;\n\nconst ChatArea = styled.div`\n  width: 100%;\n  height: 83%;\n  max-height: 83%;\n  overflow-x: hidden;\n  overflow-y: auto;\n`;\n\nconst MessageList = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  padding: 15px;\n  color: #454552;\n`;\n\nconst Message = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 16px;\n  margin-top: 15px;\n  margin-left: 15px;\n  text-align: left;\n\n  > strong {\n    margin-left: 3px;\n  }\n\n  > p {\n    max-width: 65%;\n    width: auto;\n    padding: 9px;\n    margin-top: 3px;\n    border: 1px solid rgb(78, 161, 211, 0.3);\n    border-radius: 15px;\n    box-shadow: 0px 0px 3px #4ea1d3;\n    font-size: 14px;\n  }\n`;\n\nconst UserMessage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  width: 100%;\n  font-size: 16px;\n  margin-top: 15px;\n  text-align: right;\n\n  > strong {\n    margin-right: 35px;\n  }\n\n  > p {\n    max-width: 65%;\n    width: auto;\n    padding: 9px;\n    margin-top: 3px;\n    margin-right: 30px;\n    border: 1px solid rgb(78, 161, 211, 0.3);\n    border-radius: 15px;\n    background-color: #4ea1d3;\n    color: white;\n    font-size: 14px;\n    text-align: left;\n  }\n`;\n\nconst BottomInput = styled.input`\n  bottom: 0;\n  width: 100%;\n  height: 8%;\n  padding: 15px;\n  border-top: 1px solid rgb(69, 69, 82, 0.25);\n  box-sizing: border-box;\n  opacity: 0.7;\n\n  :focus {\n    outline: none;\n  }\n`;\n\nexport default Chat;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\nimport socket from \"../../../socket\";\nimport VideoCard from \"../Video/VideoCard\";\nimport BottomBar from \"../BottomBar/BottomBar\";\nimport Chat from \"../Chat/Chat\";\nimport \"../css/Room.css\";\nimport { toast } from \"react-hot-toast\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport addNotification from \"react-push-notification\";\n\nconst Room = (props) => {\n  const navigate = useNavigate();\n  const currentUser = sessionStorage.getItem(\"user\");\n  const [peers, setPeers] = useState([]);\n  const [userVideoAudio, setUserVideoAudio] = useState({\n    localUser: { video: true, audio: true },\n  });\n  const [videoDevices, setVideoDevices] = useState([]);\n  const [displayChat, setDisplayChat] = useState(false);\n  const [screenShare, setScreenShare] = useState(false);\n  const [showVideoDevices, setShowVideoDevices] = useState(false);\n  const peersRef = useRef([]);\n  const userVideoRef = useRef();\n  const screenTrackRef = useRef();\n  const userStream = useRef();\n  const roomId = useParams().roomID;\n\n  useEffect(() => {\n    console.log(peers + \"peers\");\n    console.log(peersRef + \"peersRef\");\n\n    // Get Video Devices\n    navigator.mediaDevices.enumerateDevices().then((devices) => {\n      const filtered = devices.filter((device) => device.kind === \"videoinput\");\n      setVideoDevices(filtered);\n    });\n\n    // Set Back Button Event\n    window.addEventListener(\"popstate\", goToBack);\n\n    // Connect Camera & Mic\n    navigator.mediaDevices\n      .getUserMedia({ video: true, audio: true })\n      .then((stream) => {\n        addNotification({\n          title: \"Room ID\",\n          duration: 30000,\n          subtitle: `Click here to copy : ${roomId}`,\n          onClick: (e) => {\n            toast.success(\"Copied To clipboard\");\n            navigator.clipboard.writeText(roomId);\n          },\n          backgroundTop: \"black\",\n          backgroundBottom: \"grey\",\n        });\n\n        userVideoRef.current.srcObject = stream;\n        userStream.current = stream;\n\n        socket.emit(\"BE-join-room\", { roomId, userName: currentUser });\n        socket.on(\"FE-user-join\", (users) => {\n          // all users\n          const peers = [];\n          users.forEach(({ userId, info }) => {\n            let { userName, video, audio } = info;\n            if (userName !== currentUser) {\n              toast.success(`${userName} Joined the room`);\n\n              const peer = createPeer(userId, socket.id, stream);\n\n              peer.userName = userName;\n              peer.peerID = userId;\n\n              peersRef.current.push({\n                peerID: userId,\n                peer,\n                userName,\n              });\n              peers.push(peer);\n\n              setUserVideoAudio((preList) => {\n                return {\n                  ...preList,\n                  [peer.userName]: { video, audio },\n                };\n              });\n            }\n          });\n\n          setPeers(peers);\n        });\n\n        socket.on(\"FE-receive-call\", ({ signal, from, info }) => {\n          let { userName, video, audio } = info;\n          const peerIdx = findPeer(from);\n\n          if (!peerIdx) {\n            const peer = addPeer(signal, from, stream);\n\n            peer.userName = userName;\n\n            peersRef.current.push({\n              peerID: from,\n              peer,\n              userName: userName,\n            });\n            setPeers((users) => {\n              return [...users, peer];\n            });\n            setUserVideoAudio((preList) => {\n              return {\n                ...preList,\n                [peer.userName]: { video, audio },\n              };\n            });\n          }\n        });\n\n        socket.on(\"FE-call-accepted\", ({ signal, answerId }) => {\n          const peerIdx = findPeer(answerId);\n          peerIdx.peer.signal(signal);\n        });\n\n        socket.on(\"FE-user-leave\", ({ userId, userName, leaver }) => {\n          toast.error(`${leaver} left the room`);\n          const peerIdx = findPeer(userId);\n          console.log(peerIdx);\n          peerIdx.peer.destroy();\n          setPeers((users) => {\n            users = users.filter((user) => user.peerID !== peerIdx.peer.peerID);\n            return [...users];\n          });\n          peersRef.current = peersRef.current.filter(\n            ({ peerID }) => peerID !== userId\n          );\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        toast.error(\"Cannot start camera. \" + error);\n        navigate(\"/\");\n      });\n\n    socket.on(\"FE-toggle-camera\", ({ userId, switchTarget }) => {\n      const peerIdx = findPeer(userId);\n\n      setUserVideoAudio((preList) => {\n        let video = preList[peerIdx.userName].video;\n        let audio = preList[peerIdx.userName].audio;\n\n        if (switchTarget === \"video\") video = !video;\n        else audio = !audio;\n\n        return {\n          ...preList,\n          [peerIdx.userName]: { video, audio },\n        };\n      });\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  function createPeer(userId, caller, stream) {\n    const peer = new Peer({\n      initiator: true,\n      trickle: false,\n      stream,\n    });\n\n    peer.on(\"signal\", (signal) => {\n      socket.emit(\"BE-call-user\", {\n        userToCall: userId,\n        from: caller,\n        signal,\n      });\n    });\n    peer.on(\"disconnect\", () => {\n      peer.destroy();\n    });\n\n    return peer;\n  }\n\n  function addPeer(incomingSignal, callerId, stream) {\n    const peer = new Peer({\n      initiator: false,\n      trickle: false,\n      stream,\n    });\n\n    peer.on(\"signal\", (signal) => {\n      socket.emit(\"BE-accept-call\", { signal, to: callerId });\n    });\n\n    peer.on(\"disconnect\", () => {\n      peer.destroy();\n    });\n\n    peer.signal(incomingSignal);\n\n    return peer;\n  }\n\n  function findPeer(id) {\n    return peersRef.current.find((p) => p.peerID === id);\n  }\n\n  function createUserVideo(peer, index, arr) {\n    return (\n      <VideoBox\n        className={`width-peer${peers.length > 8 ? \"\" : peers.length}`}\n        onClick={expandScreen}\n        key={index}\n      >\n        {writeUserName(peer.userName)}\n        <FaIcon className=\"fas fa-expand\" />\n        <VideoCard key={index} peer={peer} number={arr.length} />\n      </VideoBox>\n    );\n  }\n\n  function writeUserName(userName, index) {\n    if (userVideoAudio.hasOwnProperty(userName)) {\n      if (!userVideoAudio[userName].video) {\n        return <UserName key={userName}>{userName}</UserName>;\n      }\n    }\n  }\n\n  // Open Chat\n  const clickChat = (e) => {\n    e.stopPropagation();\n    setDisplayChat(!displayChat);\n  };\n\n  // BackButton\n  const goToBack = (e) => {\n    e.preventDefault();\n    socket.emit(\"BE-leave-room\", { roomId, leaver: currentUser });\n    sessionStorage.removeItem(\"user\");\n    window.location.href = \"/\";\n  };\n\n  const toggleCameraAudio = (e) => {\n    const target = e.target.getAttribute(\"data-switch\");\n\n    setUserVideoAudio((preList) => {\n      let videoSwitch = preList[\"localUser\"].video;\n      let audioSwitch = preList[\"localUser\"].audio;\n\n      if (target === \"video\") {\n        const userVideoTrack =\n          userVideoRef.current.srcObject.getVideoTracks()[0];\n        videoSwitch = !videoSwitch;\n        userVideoTrack.enabled = videoSwitch;\n      } else {\n        const userAudioTrack =\n          userVideoRef.current.srcObject.getAudioTracks()[0];\n        audioSwitch = !audioSwitch;\n\n        if (userAudioTrack) {\n          userAudioTrack.enabled = audioSwitch;\n        } else {\n          userStream.current.getAudioTracks()[0].enabled = audioSwitch;\n        }\n      }\n\n      return {\n        ...preList,\n        localUser: { video: videoSwitch, audio: audioSwitch },\n      };\n    });\n\n    socket.emit(\"BE-toggle-camera-audio\", { roomId, switchTarget: target });\n  };\n\n  const clickScreenSharing = () => {\n    if (!screenShare) {\n      navigator.mediaDevices\n        .getDisplayMedia({ cursor: true })\n        .then((stream) => {\n          const screenTrack = stream.getTracks()[0];\n\n          peersRef.current.forEach(({ peer }) => {\n            // replaceTrack (oldTrack, newTrack, oldStream);\n            peer.replaceTrack(\n              peer.streams[0]\n                .getTracks()\n                .find((track) => track.kind === \"video\"),\n              screenTrack,\n              userStream.current\n            );\n          });\n\n          // Listen click end\n          screenTrack.onended = () => {\n            peersRef.current.forEach(({ peer }) => {\n              peer.replaceTrack(\n                screenTrack,\n                peer.streams[0]\n                  .getTracks()\n                  .find((track) => track.kind === \"video\"),\n                userStream.current\n              );\n            });\n            userVideoRef.current.srcObject = userStream.current;\n            setScreenShare(false);\n          };\n\n          userVideoRef.current.srcObject = stream;\n          screenTrackRef.current = screenTrack;\n          setScreenShare(true);\n        });\n    } else {\n      screenTrackRef.current.onended();\n    }\n  };\n\n  const expandScreen = (e) => {\n    const elem = e.target;\n\n    if (elem.requestFullscreen) {\n      elem.requestFullscreen();\n    } else if (elem.mozRequestFullScreen) {\n      /* Firefox */\n      elem.mozRequestFullScreen();\n    } else if (elem.webkitRequestFullscreen) {\n      /* Chrome, Safari & Opera */\n      elem.webkitRequestFullscreen();\n    } else if (elem.msRequestFullscreen) {\n      /* IE/Edge */\n      elem.msRequestFullscreen();\n    }\n  };\n\n  const clickBackground = () => {\n    if (!showVideoDevices) return;\n\n    setShowVideoDevices(false);\n  };\n\n  const clickCameraDevice = (event) => {\n    if (\n      event &&\n      event.target &&\n      event.target.dataset &&\n      event.target.dataset.value\n    ) {\n      const deviceId = event.target.dataset.value;\n      const enabledAudio =\n        userVideoRef.current.srcObject.getAudioTracks()[0].enabled;\n\n      navigator.mediaDevices\n        .getUserMedia({ video: { deviceId }, audio: enabledAudio })\n        .then((stream) => {\n          const newStreamTrack = stream\n            .getTracks()\n            .find((track) => track.kind === \"video\");\n          const oldStreamTrack = userStream.current\n            .getTracks()\n            .find((track) => track.kind === \"video\");\n\n          userStream.current.removeTrack(oldStreamTrack);\n          userStream.current.addTrack(newStreamTrack);\n\n          peersRef.current.forEach(({ peer }) => {\n            // replaceTrack (oldTrack, newTrack, oldStream);\n            peer.replaceTrack(\n              oldStreamTrack,\n              newStreamTrack,\n              userStream.current\n            );\n          });\n        });\n    }\n  };\n\n  return (\n    <div className=\"room-container\">\n      <RoomContainer onClick={clickBackground}>\n        <VideoAndBarContainer>\n          <VideoContainer>\n            {/* Current User Video */}\n            <VideoBox\n              className={`width-peer${peers.length > 8 ? \"\" : peers.length}`}\n            >\n              {userVideoAudio[\"localUser\"].video ? null : (\n                <UserName>{currentUser}</UserName>\n              )}\n              <FaIcon className=\"fas fa-expand\" />\n              <MyVideo\n                onClick={expandScreen}\n                ref={userVideoRef}\n                muted\n                autoPlay\n                playInline\n              ></MyVideo>\n            </VideoBox>\n            {/* Joined User Vidoe */}\n            {peers &&\n              peers.map((peer, index, arr) =>\n                createUserVideo(peer, index, arr)\n              )}\n          </VideoContainer>\n          <BottomBar\n            clickScreenSharing={clickScreenSharing}\n            clickChat={clickChat}\n            clickCameraDevice={clickCameraDevice}\n            goToBack={goToBack}\n            toggleCameraAudio={toggleCameraAudio}\n            userVideoAudio={userVideoAudio[\"localUser\"]}\n            screenShare={screenShare}\n            videoDevices={videoDevices}\n            showVideoDevices={showVideoDevices}\n            setShowVideoDevices={setShowVideoDevices}\n          />\n        </VideoAndBarContainer>\n        <Chat display={displayChat} roomId={roomId} />\n      </RoomContainer>\n    </div>\n  );\n};\n\nconst RoomContainer = styled.div`\n  display: flex;\n  width: 100%;\n  max-height: 100vh;\n  flex-direction: row;\n`;\n\nconst VideoContainer = styled.div`\n  max-width: 100%;\n  height: 92%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 15px;\n  box-sizing: border-box;\n  gap: 10px;\n`;\n\nconst VideoAndBarContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100vh;\n`;\n\nconst MyVideo = styled.video``;\n\nconst VideoBox = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  > video {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  :hover {\n    > i {\n      display: block;\n    }\n  }\n`;\n\nconst UserName = styled.div`\n  position: absolute;\n  font-size: calc(20px + 5vmin);\n  z-index: 1;\n`;\n\nconst FaIcon = styled.i`\n  display: none;\n  position: absolute;\n  right: 15px;\n  top: 15px;\n`;\n\nexport default Room;\n","import React from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\n\r\nfunction ProtectedRoute(prop) {\r\n  if(localStorage.getItem(\"token\")){\r\n    return prop.children\r\n  }else{\r\n    return <Navigate to=\"/login\"/>\r\n  }\r\n}\r\n\r\n\r\nexport default ProtectedRoute","import React from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nfunction PublicRoute(prop) {\r\n    if(localStorage.getItem(\"token\")){\r\n        return <Navigate to=\"/\"/>\r\n    }else{\r\n          return prop.children\r\n      }\r\n}\r\n\r\nexport default PublicRoute","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const ProfileSwitchSlice = createSlice({\r\n  name: \"profileSwitch\",\r\n  initialState: {\r\n    visible: false,\r\n  },\r\n  reducers: {\r\n    showProfile: (state) => {\r\n      state.visible = !state.visible;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { showProfile, hideProfile } = ProfileSwitchSlice.actions;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const alertsSlice = createSlice({\r\n  name: \"alerts\",\r\n  initialState: {\r\n    loading: false,\r\n  },\r\n  reducers: {\r\n    showLoading: (state) => {\r\n      state.loading = true;\r\n    },\r\n    hideLoading: (state) => {\r\n      state.loading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { showLoading, hideLoading } = alertsSlice.actions;\r\n","import axios from \"axios\";\r\n\r\nconst client = axios.create({baseURL: \"https://remotecoderscollaboration.online/\"})\r\n// const client = axios.create({baseURL: \"http://localhost:5000\"})\r\n\r\n\r\nexport const request = ({...options}) => {\r\n    client.defaults.headers.common.Authorization = `Bearer ${localStorage.getItem('token')}`\r\n    const onSuccess = (response) => response\r\n    const onError = (error) =>{\r\n        return error\r\n    }\r\n\r\n    return client(options).then(onSuccess).catch(onError)\r\n}","import  { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { hideLoading, showLoading } from \"../../../redux/alertsSlice\";\r\nimport { request } from \"../axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction useUserData() {\r\n  const [userData, setUserdata] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n\r\n  //get user data\r\n  const getData = async () => {\r\n    dispatch(showLoading());\r\n\r\n    request({\r\n      url: \"/api/user/getUserDataById\",\r\n      method: \"post\",\r\n    })\r\n      .then((data) => {\r\n        if (data.data.success) {\r\n          setUserdata(data.data.data);\r\n        } else if (data.data.success === false) {\r\n          localStorage.clear();\r\n          navigate(\"/login\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    dispatch(hideLoading());\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  return userData;\r\n}\r\n\r\nexport default useUserData;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { hideLoading, showLoading } from \"../../../redux/alertsSlice\";\r\nimport { request } from \"../axios\";\r\nimport useUserData from \"../Hooks/useUserData\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport axios from \"axios\";\r\n\r\nfunction ProfileEdit() {\r\n  const userData = useUserData();\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const convertBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const fileReader = new FileReader();\r\n      fileReader.readAsDataURL(file);\r\n\r\n      fileReader.onload = () => {\r\n        resolve(fileReader.result);\r\n      };\r\n\r\n      fileReader.onerror = (error) => {\r\n        reject(error);\r\n      };\r\n    });\r\n  };\r\n\r\n  const uploadSingleImage = async (base64) => {\r\n    dispatch(showLoading());\r\n\r\n    const response = await axios.post(\r\n      \"/api/user/uploadImage\",\r\n      {\r\n        image: base64,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n        },\r\n      }\r\n    );\r\n    dispatch(hideLoading());\r\n\r\n    if (response.data.success) {\r\n      navigate(\"/\")\r\n      toast.success(\"profile updated successfully\")\r\n    } else {\r\n      console.log(\"errororr\");\r\n    }\r\n  };\r\n\r\n  const uploadImage = async (event) => {\r\n    const files = event.target.files;\r\n\r\n    if (files.length === 1) {\r\n      const base64 = await convertBase64(files[0]);\r\n      uploadSingleImage(base64);\r\n      return;\r\n    }\r\n  };\r\n\r\n  //handle user edit\r\n  const handleUserEdit = async (e) => {\r\n    e.preventDefault();\r\n    dispatch(showLoading());\r\n\r\n    \r\n\r\n    request({\r\n      url: \"/api/user/editUserById\",\r\n      method: \"post\",\r\n      data: {\r\n        name: e.target.name.value ? e.target.name.value : userData.name,\r\n        email: e.target.email.value ? e.target.email.value : userData.email,\r\n      },\r\n    })\r\n      .then((data) => {\r\n        if (data.data.success) {\r\n          toast(\"Updated Succefully!\", {\r\n            icon: \"\",\r\n          });\r\n        } else if (data.data.success === false) {\r\n          localStorage.clear();\r\n          navigate(\"/login\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    dispatch(hideLoading());\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleUserEdit}>\r\n      <label htmlFor=\"Email\" className=\"my-3\">\r\n        Name\r\n      </label>\r\n      <div className=\"form-outline inputdiv\">\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          id=\"form12\"\r\n          className=\"form-control\"\r\n          placeholder={userData.name}\r\n        />\r\n      </div>\r\n      <label htmlFor=\"Email\" className=\"my-3\">\r\n        Email\r\n      </label>\r\n      <div className=\"form-outline inputdiv\">\r\n        <input\r\n          name=\"email\"\r\n          type=\"text\"\r\n          id=\"form12\"\r\n          className=\"form-control\"\r\n          placeholder={userData.email}\r\n        />\r\n      </div>\r\n      <label htmlFor=\"Email\" className=\"my-3\">\r\n        Profile edit\r\n      </label>\r\n      <div className=\"form-outline inputdiv\">\r\n        <input type=\"file\" onChange={uploadImage} />\r\n      </div>\r\n      <button className=\"btn btn-primary mt-4\" type=\"submit\">\r\n        Edit\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default ProfileEdit;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"../css/ChatHistory.css\";\r\nimport { request } from \"../axios\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { hideLoading, showLoading } from \"../../../redux/alertsSlice\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction ChatHistory() {\r\n  const [chatData, setChatData] = useState([]);\r\n  const [currentUserId, setCurrentUserId] = useState();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const getData = async () => {\r\n    dispatch(showLoading());\r\n\r\n    request({\r\n      url: \"/api/user/getChatHistory\",\r\n      method: \"post\",\r\n    })\r\n      .then((data) => {\r\n        if (data.data.success) {\r\n          console.log(data.data.userId);\r\n          setCurrentUserId(data.data.userId);\r\n          setChatData(data.data.data);\r\n        } else if (data.data.success === false) {\r\n          localStorage.clear();\r\n          navigate(\"/login\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n    dispatch(hideLoading());\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div class=\"container-chat\">\r\n        {chatData.map((data) => {\r\n          return (\r\n            <>\r\n              {data.history.map((hist) => {\r\n                return (\r\n                  <>\r\n                    <div class=\"chat-container\">\r\n                      <ul class=\"chat\">\r\n                        {currentUserId == hist.userName ? (\r\n                          <>\r\n                            <h5>\r\n                              {hist.userName}{\" \"}\r\n                              <small className=\"time\">\r\n                                {hist.time.slice(11, 16)}\r\n                              </small>\r\n                            </h5>\r\n                            <li className=\"message left\">\r\n                              <p>{hist.chat}</p>\r\n                            </li>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <h5 className=\"float-right\">\r\n                              {hist.userName}\r\n                              <small className=\"time\">\r\n                                {hist.time.slice(11, 16)}\r\n                              </small>\r\n                            </h5>\r\n\r\n                            <li className=\"message right\">\r\n                              <p>{hist.chat}</p>\r\n                            </li>\r\n                          </>\r\n                        )}\r\n                      </ul>\r\n                    </div>\r\n                  </>\r\n                );\r\n              })}\r\n            </>\r\n          );\r\n        })}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ChatHistory;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"../css/Schedule.css\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport { request } from \"../axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nfunction Schedule() {\r\n  const [clickedDate, setClickedDate] = useState();\r\n  const [open, setOpen] = useState(false);\r\n  const [event, setEvent] = useState();\r\n  const navigate = useNavigate();\r\n\r\n  const today = new Date(); // Get the current date\r\n  const todayISO = today.toISOString().split(\"T\")[0];\r\n\r\n  const getData = async () => {\r\n    request({\r\n      url: \"/api/user/getUserDataById\",\r\n      method: \"post\",\r\n    })\r\n      .then((data) => {\r\n        if (data.data.success) {\r\n          setEvent(data.data.data.schedules);\r\n        } else if (data.data.success === false) {\r\n          localStorage.clear();\r\n          navigate(\"/login\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    request({\r\n      url: \"/api/user/addEvent\",\r\n      method: \"post\",\r\n      data: {\r\n        title: e.target.event.value,\r\n        date: clickedDate,\r\n        color: e.target.color.value,\r\n      },\r\n    })\r\n      .then(() => {\r\n        getData();\r\n        setOpen(false);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(\"Something went wrong\");\r\n      });\r\n  };\r\n\r\n  const handleDateClick = (data) => {\r\n    const today = new Date();\r\n    if (data.date >= today ) {\r\n      console.log(\"success\");\r\n\r\n      setOpen(true);\r\n      setClickedDate(data.dateStr);\r\n    }\r\n  };\r\n\r\n  const deleteEvent = (data) => {\r\n    const eventId = data.event._def.extendedProps._id;\r\n    request({\r\n      url: \"/api/user/deleteEvent\",\r\n      method: \"post\",\r\n      data: {\r\n        eventId,\r\n      },\r\n    }).then((data) => {\r\n      getData();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"schedule-container\">\r\n      <Modal open={open} onClose={() => setOpen(false)} center>\r\n        <div className=\"modal-container\">\r\n          <form onSubmit={handleSubmit}>\r\n            <h5>Event</h5>\r\n            <input type=\"text\" className=\"form-control\" required name=\"event\" />\r\n            <h5 className=\"mt-4\">Color</h5>\r\n            <input type=\"color\" className=\"form-control\" name=\"color\" />\r\n            <div className=\" d-flex justify-content-end mt-4\">\r\n              <button className=\" btn btn-primary text-right\" type=\"submit\">\r\n                Save\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </Modal>\r\n\r\n      <FullCalendar\r\n        plugins={[dayGridPlugin, interactionPlugin]}\r\n        initialView=\"dayGridMonth\"\r\n        weekends={true}\r\n        events={event}\r\n        initialDate={new Date()}\r\n        dateClick={handleDateClick}\r\n        eventClick={deleteEvent}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Schedule;\r\n","import React from \"react\";\r\nimport \"./css/Profile.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { showProfile } from \"../../redux/userProfileSwitch\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\nimport { useState } from \"react\";\r\nimport ProfileEdit from \"./Profile/ProfileEdit\";\r\nimport ChatHistory from \"./ChatHistory/ChatHistory\";\r\nimport useUserData from \"./Hooks/useUserData\";\r\nimport Schedule from \"./Schedule/Schedule\";\r\n\r\nfunction Profile() {\r\n  const userData = useUserData();\r\n  const [rightSideData, setRightSideData] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const currentTheme = useSelector((state) => state.themeSwitch.dark);\r\n\r\n  //logout btn\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"name\");\r\n    localStorage.removeItem(\"profile\");\r\n    dispatch(showProfile());\r\n    navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Navbar  */}\r\n      {/* <div className=\"nav-bar d-flex justify-content-between align-items-center me-5\">\r\n        <div className=\"logo\">\r\n          <img\r\n            src={require(\"./cover.png\")}\r\n            alt=\"test\"\r\n            width={\"180px\"}\r\n            className=\"logo\"\r\n          />\r\n        </div>\r\n        <div className=\"profile\">\r\n          <Link onClick={()=> dispatch(showProfile())}>\r\n            <FaUser className=\"User-logo\" />\r\n          </Link>\r\n        </div>\r\n      </div> */}\r\n      {/* Navbar End */}\r\n\r\n      {/* Section */}\r\n      <div\r\n        className={\r\n          currentTheme\r\n            ? `profile-main-container-dark`\r\n            : `profile-main-container`\r\n        }\r\n      >\r\n        <div className={currentTheme ? `profile-left-dark` : `profile-left`}>\r\n          <div className=\"profile-btn\">\r\n            <Link\r\n              onClick={() => dispatch(showProfile())}\r\n              className=\"close-logo\"\r\n            >\r\n              <IoMdClose />\r\n            </Link>\r\n          </div>\r\n          <div className=\"profile-pic my-3\">\r\n            <img\r\n              className=\"img-profile \"\r\n              src={userData.profile || localStorage.getItem(\"profile\")}\r\n              alt=\"User\"\r\n              srcset=\"\"\r\n            />\r\n            <p>{userData?.name || localStorage.getItem(\"name\")}</p>\r\n          </div>\r\n          <div className=\"items-list\">\r\n            <div className=\"test\">\r\n              <div className=\"list\" onClick={() => setRightSideData(\"profile\")}>\r\n                <Link className=\"link\">Profile Edit</Link>\r\n              </div>\r\n              <div\r\n                className=\"list\"\r\n                onClick={() => setRightSideData(\"chatHistory\")}\r\n              >\r\n                <Link className=\"link\">Chat History</Link>\r\n              </div>\r\n              <div\r\n                className=\"list\"\r\n                onClick={() => setRightSideData(\"Schedule\")}\r\n              >\r\n                <Link className=\"link\">Schedule</Link>\r\n              </div>\r\n            </div>\r\n            <div className=\"logout-btn\">\r\n              <p className=\"btn btn-danger\" onClick={handleLogout}>\r\n                Logout\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"profile-right\">\r\n          {rightSideData === \"profile\" ? (\r\n            <ProfileEdit />\r\n          ) : rightSideData === \"chatHistory\" ? (\r\n            <ChatHistory />\r\n          ) : rightSideData === \"Schedule\" ? (\r\n            <Schedule />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/* Section End*/}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB7IKcl3aBBQRIok2d2D382Wrw7PXc4Cu4\",\r\n  authDomain: \"rcc-project-aa2d3.firebaseapp.com\",\r\n  projectId: \"rcc-project-aa2d3\",\r\n  storageBucket: \"rcc-project-aa2d3.appspot.com\",\r\n  messagingSenderId: \"458340281110\",\r\n  appId: \"1:458340281110:web:5fda5ef482d164c7cfbe37\",\r\n  measurementId: \"G-2CCXFY6BEE\",\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nexport default firebase\r\n","import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { hideLoading, showLoading } from \"../../redux/alertsSlice\";\r\nimport { request } from \"./axios\";\r\nimport PasswordStrengthBar from \"react-password-strength-bar\";\r\nimport firebase from \"./Auth/firebaseAuth\";\r\n\r\nfunction Register() {\r\n  const [password, setPassword] = useState();\r\n  const [otp, setOtp] = useState();\r\n  const [regusterBtn, setRegisterBtn] = useState(\"none\");\r\n\r\n  const [passwordCheck, setPasswordCheck] = useState(\"none\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const [otpPage, setOtpPage] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  //handle on register form submited\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    //validation\r\n\r\n    let name = e.target.name.value;\r\n    let email = e.target.email.value;\r\n    let password = e.target.password.value;\r\n    let number = e.target.number.value;\r\n    let cPassword = e.target.confirmPassword.value;\r\n\r\n    if (name.trim() === \"\") {\r\n      toast.error(\"Name cannot be null\");\r\n    } else if (number.trim().length < 10) {\r\n      toast.error(\"Number is not 10 digits\");\r\n    } else if (number.trim() === \"\") {\r\n      toast.error(\"Number is null\");\r\n    } else if (email.trim() === \"\") {\r\n      toast.error(\"Email cannot be null\");\r\n    } else if (!email.includes(\"@\")) {\r\n      toast.error(\"Invalid email format.\");\r\n    } else if (password.trim() === \"\") {\r\n      toast.error(\"password cannot be null\");\r\n    } else if (password.trim().length < 5) {\r\n      toast.error(\"password must be more than 5 letters\");\r\n    } else if (cPassword.trim() === \"\") {\r\n      toast.error(\"confirm password cannot be null\");\r\n    } else if (password.trim() !== cPassword.trim()) {\r\n      toast.error(\"password does not match\");\r\n    } else {\r\n      dispatch(showLoading());\r\n      request({\r\n        url: \"/api/user/register\",\r\n        method: \"post\",\r\n        data: {\r\n          name: e.target.name.value,\r\n          email: e.target.email.value,\r\n          password: e.target.password.value,\r\n          number: number\r\n        },\r\n      })\r\n        .then((data) => {\r\n          dispatch(hideLoading());\r\n          if (data.data.success) {\r\n            toast.success(data.data.message);\r\n            navigate(\"/login\");\r\n          } else {\r\n            toast.error(data.data.message);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const handleOtpSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(showLoading());\r\n    window.confirmationResult\r\n      .confirm(otp)\r\n      .then((result) => {\r\n        setOtpPage(!otpPage);\r\n        toast.success(\"User Validated\");\r\n        dispatch(hideLoading());\r\n        const user = result.user;\r\n        console.log(\"succeess\");\r\n        console.log(JSON.stringify(user));\r\n        setRegisterBtn(\"\");\r\n      })\r\n      .catch((error) => {\r\n        dispatch(hideLoading());\r\n        toast.error(\"Otp has inccrect please check\");\r\n      });\r\n  };\r\n\r\n  const configureCaptcha = () => {\r\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n      \"sign-in-button\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: (response) => {\r\n          // onSignInSubmit();\r\n          console.log(\"recaptchaVerifier\");\r\n        },\r\n        defaultCountry: \"IN\",\r\n      }\r\n    );\r\n  };\r\n\r\n  const onPhoneverify = () => {\r\n    try {\r\n      dispatch(showLoading());\r\n\r\n      configureCaptcha();\r\n      const phoneNumber = \"+91\" + number;\r\n      console.log(phoneNumber);\r\n      if (number === \"\") {\r\n        toast.error(\"Please enter a number\");\r\n      } else {\r\n        setOtpPage(!otpPage);\r\n        const appVerifier = window.recaptchaVerifier;\r\n        firebase\r\n          .auth()\r\n          .signInWithPhoneNumber(phoneNumber, appVerifier)\r\n          .then((confirmationResult) => {\r\n            dispatch(hideLoading());\r\n            window.confirmationResult = confirmationResult;\r\n            toast.success(\"OTP has been sent\");\r\n          })\r\n          .catch((error) => {\r\n            dispatch(hideLoading());\r\n            toast.error(\"SMS Not send\");\r\n            console.log(error);\r\n          });\r\n      }\r\n      dispatch(hideLoading());\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {otpPage && (\r\n        <div className=\"otp-container\">\r\n          <div className=\"otp-form\">\r\n            <form onSubmit={handleOtpSubmit}>\r\n              <div class=\"form-group\">\r\n                <div class=\"input-group\">\r\n                  <span class=\"input-group-addon\">\r\n                    <i class=\"fa fa-lock ti-unlock me-3\"></i>\r\n                  </span>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Enter OTP\"\r\n                    name=\"otp\"\r\n                    onChange={(e) => setOtp(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                class=\"btn btn-primary btn-block px-5 py-2 mt-5\"\r\n                type=\"submit\"\r\n              >\r\n                Verify\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"main-Container\">\r\n        <div className=\"login-block\">\r\n          <img src=\"/images/covercopy.png\" alt=\"Scanfcode\" height={\"80px\"} />\r\n          <h1>Register Your account</h1>\r\n          <form onSubmit={handleSubmit}>\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                  <i class=\"fa fa-user ti-user me-3\"></i>\r\n                </span>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Your name\"\r\n                  name=\"name\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <hr class=\"hr-xs\" />\r\n            <div id=\"sign-in-button\"></div>\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                  <i class=\"fa fa-phone  me-3\"></i>\r\n                </span>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Your number\"\r\n                  name=\"number\"\r\n                  onChange={(e) => setNumber(e.target.value)}\r\n                />\r\n                <a\r\n                  onClick={onPhoneverify}\r\n                  style={{ textDecoration: \"none\", cursor: \"pointer\" }}\r\n                >\r\n                  Verify\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            <hr class=\"hr-xs\" />\r\n\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                  <i class=\"fa fa-envelope ti-email me-3\"></i>\r\n                </span>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Your email address\"\r\n                  name=\"email\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <hr class=\"hr-xs\" />\r\n\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                  <i class=\"fa fa-lock ti-unlock me-3\"></i>\r\n                </span>\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"form-control password-input\"\r\n                  placeholder=\"Enter your password\"\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  onFocus={() => setPasswordCheck(\"block\")}\r\n                  onBlur={() => setPasswordCheck(\"none\")}\r\n                  name=\"password\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <PasswordStrengthBar\r\n              style={{ display: passwordCheck }}\r\n              password={password}\r\n            />\r\n            <hr class=\"hr-xs\" />\r\n\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                  <i class=\"fa fa-lock ti-unlock me-3\"></i>\r\n                </span>\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Confirm your password\"\r\n                  name=\"confirmPassword\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              class=\"btn btn-primary btn-block px-5 py-2 mt-5 \"\r\n              style={{ display: regusterBtn }}\r\n              type=\"submit\"\r\n            >\r\n              Register\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div class=\"login-links\">\r\n          <p class=\"text-center\">\r\n            Already have an account?{\" \"}\r\n            <a class=\"txt-brand\" href=\"/login\">\r\n              Login\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport \"./css/Login.css\";\r\nimport { BsGoogle } from \"react-icons/bs\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { hideLoading, showLoading } from \"../../redux/alertsSlice\";\r\nimport { request } from \"./axios\";\r\n\r\nfunction Login() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  //handle user login\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    //validation\r\n    let email = e.target.email.value;\r\n    let password = e.target.password.value;\r\n\r\n    if (email.trim() === \"\") {\r\n      toast.error(\"email cannot be null\");\r\n    } else if (password.trim() === \"\") {\r\n      toast.error(\"password cannot be null\");\r\n    } else {\r\n      dispatch(showLoading());\r\n\r\n      request({\r\n        url: \"/api/user/login\",\r\n        method: \"post\",\r\n        data: {\r\n          email: e.target.email.value,\r\n          password: e.target.password.value,\r\n        },\r\n      })\r\n        .then((data) => {\r\n          dispatch(hideLoading());\r\n          if (data.data.success) {\r\n            toast.success(data.data.message);\r\n            localStorage.setItem(\"token\", data.data.token);\r\n            navigate(\"/\");\r\n          } else {\r\n            toast.error(data.data.message);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n \r\n  return (\r\n    <>\r\n      <div className=\"main-Container\">\r\n        <div className=\"login-block\">\r\n          <img src=\"/images/covercopy.png\" alt=\"Scanfcode\" height={\"80px\"} />\r\n          <h1>Log into your account</h1>\r\n          <form onSubmit={handleSubmit}>\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                  <i class=\"fa fa-envelope ti-email me-3\"></i>\r\n                </span>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Your email address\"\r\n                  name=\"email\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <hr class=\"hr-xs\" />\r\n\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                  <i class=\"fa fa-lock ti-unlock me-3\"></i>\r\n                </span>\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Enter your password\"\r\n                  name=\"password\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              class=\"btn btn-primary btn-block px-5 py-2 mt-5\"\r\n              type=\"submit\"\r\n            >\r\n              Login\r\n            </button>\r\n\r\n            \r\n          </form>\r\n        </div>\r\n        <div class=\"login-links\">\r\n          <p class=\"text-center\">\r\n            Doesn't have an account?{\" \"}\r\n            <a class=\"txt-brand\" href=\"/register\">\r\n              Register\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./css/Home.css\";\r\nimport { FaRegUser, FaThemeco, FaUser } from \"react-icons/fa\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { showProfile } from \"../../redux/userProfileSwitch\";\r\nimport { useRef, useState } from \"react\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport socket from \"../../socket\";\r\nimport uniqid from \"uniqid\";\r\nimport useUserData from \"./Hooks/useUserData\";\r\nimport TimeAgo from \"javascript-time-ago\";\r\nimport en from \"javascript-time-ago/locale/en.json\";\r\nimport ReactTimeAgo from \"react-time-ago\";\r\nimport Notifications from \"react-notifications-menu\";\r\n\r\nTimeAgo.addDefaultLocale(en);\r\n\r\nfunction Home() {\r\n  const [notificationData, setnotificationData] = useState([]);\r\n  const userData = useUserData();\r\n  const currentTheme = useSelector((state) => state.themeSwitch.dark);\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [roomId, setRoomId] = useState(\"\");\r\n  const roomValue = useRef();\r\n\r\n  // ROOM JOIN\r\n  const handleJoin = (e) => {\r\n    e.preventDefault();\r\n    if (roomValue.current.value === \"\") {\r\n      toast.error(\"Room name cannot be null\");\r\n    } else {\r\n      socket.emit(\"Check-room-exist\", { roomId: roomId });\r\n      socket.on(\"room-exist\", ({ roomExist }) => {\r\n        if (!roomExist) {\r\n          toast.error(\"Room does not exist\");\r\n        } else {\r\n          const userName = userData.name;\r\n          socket.emit(\"BE-check-user\", { roomId, userName });\r\n          socket.on(\"FE-error-user-exist\", ({ error }) => {\r\n            if (error) {\r\n              toast.error(\"User already present in the room\");\r\n            } else {\r\n              sessionStorage.setItem(\"user\", userData.name);\r\n              sessionStorage.setItem(\"userId\", userData._id);\r\n\r\n              navigate(`/room/${roomId}`);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  //create room\r\n  const handleCreate = (e) => {\r\n    e.preventDefault();\r\n    const CroomId = uniqid(); //change to uniqid\r\n    socket.emit(\"Check-room-exist\", { roomId: CroomId });\r\n    socket.on(\"room-exist\", ({ roomExist }) => {\r\n      if (roomExist) {\r\n        toast.error(\"Room already exist\");\r\n      } else {\r\n        sessionStorage.setItem(\"user\", userData.name);\r\n        sessionStorage.setItem(\"userId\", userData._id);\r\n\r\n        navigate(`/room/${CroomId}`);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"check-notifications\", {\r\n      userId: localStorage.getItem(\"token\"),\r\n    });\r\n    socket.on(\"send-notifications\", ({ data }) => {\r\n      console.log(data);\r\n      setnotificationData([\r\n        ...notificationData,\r\n        {\r\n          message: data.title,\r\n          receivedTime: <ReactTimeAgo date={new Date()} locale=\"en-US\" />,\r\n        },\r\n      ]);\r\n    });\r\n\r\n    socket.on(\"FE-receive-message\", ({ msg, sender }) => {\r\n      setnotificationData([\r\n        ...notificationData,\r\n        {\r\n          message: `${sender} has send you a message`,\r\n          receivedTime: <ReactTimeAgo date={new Date()} locale=\"en-US\" />,\r\n        },\r\n      ]);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={currentTheme ? \"home-container-dark\" : \"home-container\"}>\r\n      {/* Navbar */}\r\n      <div className=\"nav-bar d-flex justify-content-between align-items-center me-5\">\r\n        <div className=\"logo\">\r\n          <img\r\n            src={require(\"./cover.png\")}\r\n            alt=\"test\"\r\n            width={\"180px\"}\r\n            className=\"logo\"\r\n          />\r\n        </div>\r\n        <div className=\"profile\">\r\n          <Link>\r\n            <div className=\"notification-container\">\r\n              <Notifications\r\n                classNamePrefix=\"okrjoy\"\r\n                width=\"250px\"\r\n                data={notificationData}\r\n              />\r\n            </div>\r\n          </Link>\r\n          <Link onClick={() => dispatch(showProfile())}>\r\n            {currentTheme ? (\r\n              <FaRegUser className=\"User-logo\" />\r\n            ) : (\r\n              <FaUser className=\"User-logo\" />\r\n            )}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      {/* Navbar end */}\r\n\r\n      {/* home */}\r\n      <div className=\"body-container d-flex justify-content-around align-items-center mt-5 \">\r\n        <div className=\"left-side mt-5 \">\r\n          <input\r\n            type=\"email\"\r\n            ref={roomValue}\r\n            className=\"form-control room-input \"\r\n            onChange={(e) => setRoomId(e.target.value)}\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            required\r\n            name=\"roomValue\"\r\n            placeholder=\"Enter Room Id\"\r\n          />\r\n          <div className=\"button-group mt-3 btn-home \">\r\n            <button\r\n              className=\"btn btn-primary btn-outline-light me-4 home-btn \"\r\n              onClick={handleJoin}\r\n            >\r\n              Join Room\r\n            </button>\r\n            <button\r\n              className=\"btn btn-light btn-outline-primary \"\r\n              onClick={handleCreate}\r\n            >\r\n              Create Room\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"right-side  \">\r\n          <img\r\n            className=\"cpu\"\r\n            src={require(\"./computer.png\")}\r\n            alt=\"cpu logo\"\r\n            width={\"380rem\"}\r\n          />\r\n        </div>\r\n      </div>\r\n      {/* home end */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport CodeEditor from \"@uiw/react-textarea-code-editor\";\r\nimport sockets from \"../../../socket\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { IoLogoHtml5, IoLogoCss3, IoLogoJavascript } from \"react-icons/io\";\r\nimport \"../css/Code.css\";\r\n\r\nfunction CodeMirrors() {\r\n  const [Html, setHtml] = useState(\"\");\r\n  const [css, setCss] = useState(\"\");\r\n  const [js, setJs] = useState(\"\");\r\n\r\n  const roomId = useParams().roomID;\r\n\r\n  sockets.on(\"save-html\", ({ value }) => {\r\n    setHtml(value);\r\n  });\r\n\r\n  sockets.on(\"save-css\", ({ value }) => {\r\n    setCss(value);\r\n  });\r\n  sockets.on(\"save-js\", ({ value }) => {\r\n    setJs(value);\r\n  });\r\n\r\n  const srcCode = `\r\n  <html>\r\n  <body>${Html}</body>\r\n  <style>${css}</style>\r\n  <script>${js}</script>\r\n  </html>\r\n  `;\r\n  return (\r\n    <>\r\n      <div className=\"test d-flex \">\r\n        <div className=\"code_mirror_container d-flex flex-column justify-between my-2 mx-2 \">\r\n          <IoLogoHtml5 />\r\n          {/* <CodeMirror\r\n            value={Html}\r\n            height=\"230px\"\r\n            width=\"475px\"\r\n            theme={dracula}\r\n            extensions={[html({ jsx: true })]}\r\n            onChange={React.useCallback((value) => {\r\n              setHtml(value);\r\n              sockets.emit(\"enter-html\", { value, roomId });\r\n            })}\r\n          /> */}\r\n          <CodeEditor\r\n            value={Html}\r\n            language=\"html\"\r\n            placeholder=\"Please enter html code.\"\r\n            onChange={(value) => {\r\n              setHtml(value.target.value);\r\n              sockets.emit(\"enter-html\", { value: value.target.value, roomId });\r\n            }}\r\n            style={{\r\n              fontSize: \"16px\",\r\n              width: \"400px\",\r\n              height: \"300px\",\r\n            }}\r\n          />\r\n          <IoLogoCss3 className=\"mt-1\" />\r\n          {/* <CodeMirror\r\n            value={css}\r\n            height=\"230px\"\r\n            width=\"475px\"\r\n            theme={dracula}\r\n            extensions={[less({ jsx: true })]}\r\n            onChange={React.useCallback((value) => {\r\n              setCss(value);\r\n              // sockets.emit(\"enter-css\", { value, roomId });\r\n            })}\r\n          /> */}\r\n          <CodeEditor\r\n            value={css}\r\n            language=\"css\"\r\n            placeholder=\"Please enter css code.\"\r\n            onChange={(value) => {\r\n              setCss(value.target.value);\r\n              sockets.emit(\"enter-css\", { value: value.target.value, roomId });\r\n            }}\r\n            style={{\r\n              fontSize: \"16px\",\r\n              width: \"400px\",\r\n              height: \"300px\",\r\n            }}\r\n          />\r\n          <IoLogoJavascript className=\"mt-1\" />\r\n          {/* <CodeMirror\r\n            value={js}\r\n            height=\"230px\"\r\n            width=\"475px\"\r\n            theme={dracula}\r\n            extensions={[javascript({ jsx: true })]}\r\n            onChange={React.useCallback((value) => {\r\n              setJs(value);\r\n              sockets.emit(\"enter-js\", { value, roomId });\r\n            })}\r\n          /> */}\r\n          <CodeEditor\r\n            value={js}\r\n            language=\"js\"\r\n            placeholder=\"Please enter js code.\"\r\n            onChange={(value) => {\r\n              setJs(value.target.value);\r\n              sockets.emit(\"enter-js\", { value: value.target.value, roomId });\r\n            }}\r\n            style={{\r\n              fontSize: \"16px\",\r\n              width: \"400px\",\r\n              height: \"300px\",\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"frame-output\">\r\n          <iframe\r\n            height={\"80%\"}\r\n            width={\"100%\"}\r\n            sandbox=\"allow-scripts\"\r\n            srcDoc={srcCode}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CodeMirrors;\r\n","import React from \"react\";\r\nimport \"../css/Code.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { showCode } from \"../../../redux/codeSectionSwitch\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\nimport CodeMirrors from \"../CodeMirror/CodeMirror\";\r\n\r\nfunction Code() {\r\n  \r\n  const dispatch = useDispatch();\r\n  return (\r\n    <div className=\"code-main-container \">\r\n      <IoMdClose onClick={() => dispatch(showCode())} className=\"close-icon\" />\r\n    \r\n      <CodeMirrors />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Code;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport socket from \"../../../socket\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport \"../css/UsersList.css\";\r\nimport { showUsers } from \"../../../redux/usersListSectionSlice\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nfunction UsersList() {\r\n  const [user, setUsers] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const roomId = useParams().roomID;\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"get-users-list\", { roomId });\r\n  }, []);\r\n\r\n  socket.on(\"users-list\", ({ users }) => {\r\n    setUsers(users);\r\n  });\r\n\r\n  return (\r\n    <div className=\"user-list-main-container\">\r\n      <IoMdClose onClick={() => dispatch(showUsers())} className=\"close-icon\" />\r\n      <div class=\"container bootdey mt-5\">\r\n        <div class=\"row\">\r\n          {user.map((value) => {\r\n            return (\r\n              <div class=\"col\">\r\n                <div class=\"user-widget-2\">\r\n                  <ul class=\"list-unstyled\">\r\n                    <li class=\"media d-flex \">\r\n                      <img\r\n                        class=\"rounded-circle d-flex align-self-center\"\r\n                        src=\"https://bootdey.com/img/Content/avatar/avatar7.png\"\r\n                        alt=\"\"\r\n                      />\r\n\r\n                      <div class=\"media-body mt-3 ms-3\">\r\n                        <h5>{value}</h5>\r\n                      </div>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UsersList;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport Room from \"./components/user/Room/Room\";\nimport ProtectedRoute from \"./components/user/ProtectedRoute\";\nimport PublicRoute from \"./components/user/PublicRoute\";\nimport Profile from \"./components/user/Profile\";\nimport Register from \"./components/user/Register\";\nimport Login from \"./components/user/Login\";\nimport Home from \"./components/user/Home.jsx\";\nimport { useSelector } from \"react-redux\";\nimport { Toaster } from \"react-hot-toast\";\nimport Code from \"./components/user/Code/Code\";\nimport UsersList from \"./components/user/UserList/UsersList\";\nimport { Notifications } from \"react-push-notification\";\n\nfunction App() {\n  const { loading } = useSelector((state) => state.alerts);\n  const currentValue = useSelector((state) => state.profileSwitch.visible);\n  const codeSection = useSelector((state) => state.codeSwitch.visible);\n  const usersListSection = useSelector(\n    (state) => state.usersListSwitch.visible\n  );\n\n  return (\n    <>\n    \n      {loading && (\n        <div className=\"spinner-parent\">\n          <div className=\"spinner-border\" role=\"status\"></div>\n        </div>\n      )}\n      <Toaster position=\"top-center\" reverseOrder={false} />\n      <Notifications className=\"notification\"/>\n      <Routes>\n        {/* Home */}\n        <Route\n          path=\"/\"\n          element={\n            <ProtectedRoute>\n              {currentValue && <Profile />}\n              <Home />\n            </ProtectedRoute>\n          }\n        />\n        {/* Login */}\n        <Route\n          path=\"/login\"\n          element={\n            <PublicRoute>\n              <Login />\n            </PublicRoute>\n          }\n        />\n        {/* Register */}\n        <Route\n          path=\"/register\"\n          element={\n            <PublicRoute>\n              <Register />\n            </PublicRoute>\n          }\n        />\n        {/* Room */}\n        <Route\n          path=\"/room/:roomID\"\n          element={\n            <ProtectedRoute>\n              {codeSection && <Code />}\n              {usersListSection && <UsersList />}\n              <Room />\n            </ProtectedRoute>\n          }\n        />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const themeSwitchSlice = createSlice({\r\n  name: \"themeSwitch\",\r\n  initialState: {\r\n    dark: false,\r\n  },\r\n  reducers: {\r\n    switchTheme: (state) => {\r\n      state.dark = !state.dark;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { switchTheme } = themeSwitchSlice.actions;\r\n","import { configureStore } from \"@reduxjs/toolkit\" \r\nimport { combineReducers } from \"redux\"\r\nimport { alertsSlice } from \"./alertsSlice\"\r\nimport { ProfileSwitchSlice } from \"./userProfileSwitch\"\r\nimport { themeSwitchSlice } from \"./themeSlice\"\r\nimport { CodeSectionSwitch } from \"./codeSectionSwitch\"\r\nimport { UsersListSectionSwitch } from \"./usersListSectionSlice\"\r\n\r\nconst rootReducer = combineReducers({\r\n    alerts: alertsSlice.reducer,\r\n    profileSwitch: ProfileSwitchSlice.reducer,\r\n    themeSwitch: themeSwitchSlice.reducer,\r\n    codeSwitch: CodeSectionSwitch.reducer,\r\n    usersListSwitch: UsersListSectionSwitch.reducer\r\n})\r\n\r\n\r\nconst store = configureStore({\r\n    reducer: rootReducer,\r\n})\r\n\r\nexport default store","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}